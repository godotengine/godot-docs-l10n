:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the SceneState.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_SceneState:

SceneState
==========

**Inherits:** :ref:`Reference<class_Reference>` **<** :ref:`Object<class_Object>`

场景文件数据的脚本接口。

描述
----

维护一个与场景相关的资源、节点、导出的和重写的属性以及内置脚本的列表。

这个类不能直接实例化，它是作为\ :ref:`PackedScene.get_state<class_PackedScene_method_get_state>`\ 的结果为一个给定的场景检索的。

方法
----

+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Array<class_Array>`                     | :ref:`get_connection_binds<class_SceneState_method_get_connection_binds>` **(** :ref:`int<class_int>` idx **)** |const|                                       |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`get_connection_count<class_SceneState_method_get_connection_count>` **(** **)** |const|                                                                 |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`get_connection_flags<class_SceneState_method_get_connection_flags>` **(** :ref:`int<class_int>` idx **)** |const|                                       |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_connection_method<class_SceneState_method_get_connection_method>` **(** :ref:`int<class_int>` idx **)** |const|                                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_connection_signal<class_SceneState_method_get_connection_signal>` **(** :ref:`int<class_int>` idx **)** |const|                                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`NodePath<class_NodePath>`               | :ref:`get_connection_source<class_SceneState_method_get_connection_source>` **(** :ref:`int<class_int>` idx **)** |const|                                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`NodePath<class_NodePath>`               | :ref:`get_connection_target<class_SceneState_method_get_connection_target>` **(** :ref:`int<class_int>` idx **)** |const|                                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`get_node_count<class_SceneState_method_get_node_count>` **(** **)** |const|                                                                             |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PoolStringArray<class_PoolStringArray>` | :ref:`get_node_groups<class_SceneState_method_get_node_groups>` **(** :ref:`int<class_int>` idx **)** |const|                                                 |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`get_node_index<class_SceneState_method_get_node_index>` **(** :ref:`int<class_int>` idx **)** |const|                                                   |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PackedScene<class_PackedScene>`         | :ref:`get_node_instance<class_SceneState_method_get_node_instance>` **(** :ref:`int<class_int>` idx **)** |const|                                             |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_node_instance_placeholder<class_SceneState_method_get_node_instance_placeholder>` **(** :ref:`int<class_int>` idx **)** |const|                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_node_name<class_SceneState_method_get_node_name>` **(** :ref:`int<class_int>` idx **)** |const|                                                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`NodePath<class_NodePath>`               | :ref:`get_node_owner_path<class_SceneState_method_get_node_owner_path>` **(** :ref:`int<class_int>` idx **)** |const|                                         |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`NodePath<class_NodePath>`               | :ref:`get_node_path<class_SceneState_method_get_node_path>` **(** :ref:`int<class_int>` idx, :ref:`bool<class_bool>` for_parent=false **)** |const|           |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`get_node_property_count<class_SceneState_method_get_node_property_count>` **(** :ref:`int<class_int>` idx **)** |const|                                 |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_node_property_name<class_SceneState_method_get_node_property_name>` **(** :ref:`int<class_int>` idx, :ref:`int<class_int>` prop_idx **)** |const|   |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Variant<class_Variant>`                 | :ref:`get_node_property_value<class_SceneState_method_get_node_property_value>` **(** :ref:`int<class_int>` idx, :ref:`int<class_int>` prop_idx **)** |const| |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_node_type<class_SceneState_method_get_node_type>` **(** :ref:`int<class_int>` idx **)** |const|                                                     |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                       | :ref:`is_node_instance_placeholder<class_SceneState_method_is_node_instance_placeholder>` **(** :ref:`int<class_int>` idx **)** |const|                       |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+

枚举
----

.. _enum_SceneState_GenEditState:

.. _class_SceneState_constant_GEN_EDIT_STATE_DISABLED:

.. _class_SceneState_constant_GEN_EDIT_STATE_INSTANCE:

.. _class_SceneState_constant_GEN_EDIT_STATE_MAIN:

.. _class_SceneState_constant_GEN_EDIT_STATE_MAIN_INHERITED:

enum **GenEditState**:

- **GEN_EDIT_STATE_DISABLED** = **0** --- 如果传递给\ :ref:`PackedScene.instance<class_PackedScene_method_instance>`\ ，则阻止对场景状态的编辑。

- **GEN_EDIT_STATE_INSTANCE** = **1** --- 如果传递给\ :ref:`PackedScene.instance<class_PackedScene_method_instance>`\ ，提供继承的场景资源给本地场景。

\ **注意：** 只在编辑器构建中可用。

- **GEN_EDIT_STATE_MAIN** = **2** --- 如果传递给\ :ref:`PackedScene.instance<class_PackedScene_method_instance>`\ ，向本地场景提供本地场景资源。只有主场景应该接收主编辑状态。

\ **注意：** 只在编辑器构建中可用。

- **GEN_EDIT_STATE_MAIN_INHERITED** = **3** --- If passed to :ref:`PackedScene.instance<class_PackedScene_method_instance>`, it's similar to :ref:`GEN_EDIT_STATE_MAIN<class_SceneState_constant_GEN_EDIT_STATE_MAIN>`, but for the case where the scene is being instantiated to be the base of another one.

\ **Note:** Only available in editor builds.

方法说明
--------

.. _class_SceneState_method_get_connection_binds:

- :ref:`Array<class_Array>` **get_connection_binds** **(** :ref:`int<class_int>` idx **)** |const|

返回 ``idx`` 处信号的绑定参数列表。

----

.. _class_SceneState_method_get_connection_count:

- :ref:`int<class_int>` **get_connection_count** **(** **)** |const|

返回场景中的信号连接数。

用于查询其他\ ``get_connection_*``\ 方法中的连接元数据的\ ``idx``\ 参数，其间隔时间为\ ``[0, get_connection_count() - 1]``\ 。

----

.. _class_SceneState_method_get_connection_flags:

- :ref:`int<class_int>` **get_connection_flags** **(** :ref:`int<class_int>` idx **)** |const|

返回\ ``idx``\ 处的信号的连接标志。参阅\ :ref:`ConnectFlags<enum_Object_ConnectFlags>`\ 常数。

----

.. _class_SceneState_method_get_connection_method:

- :ref:`String<class_String>` **get_connection_method** **(** :ref:`int<class_int>` idx **)** |const|

返回连接到\ ``idx``\ 处信号的方法。

----

.. _class_SceneState_method_get_connection_signal:

- :ref:`String<class_String>` **get_connection_signal** **(** :ref:`int<class_int>` idx **)** |const|

返回 ``idx`` 处的信号名称。

----

.. _class_SceneState_method_get_connection_source:

- :ref:`NodePath<class_NodePath>` **get_connection_source** **(** :ref:`int<class_int>` idx **)** |const|

返回拥有\ ``idx``\ 处信号的节点的相对于根节点的路径。

----

.. _class_SceneState_method_get_connection_target:

- :ref:`NodePath<class_NodePath>` **get_connection_target** **(** :ref:`int<class_int>` idx **)** |const|

返回到拥有连接到 ``idx`` 处的信号的方法的节点的相对于根节点的路径。

----

.. _class_SceneState_method_get_node_count:

- :ref:`int<class_int>` **get_node_count** **(** **)** |const|

返回场景中节点的数量。

\ ``idx``\ 参数用于在其他\ ``get_node_*``\ 方法中查询节点数据，其间隔为\ ``[0, get_node_count() - 1]``\ 。

----

.. _class_SceneState_method_get_node_groups:

- :ref:`PoolStringArray<class_PoolStringArray>` **get_node_groups** **(** :ref:`int<class_int>` idx **)** |const|

返回与 ``idx`` 处的节点关联的组名列表。

----

.. _class_SceneState_method_get_node_index:

- :ref:`int<class_int>` **get_node_index** **(** :ref:`int<class_int>` idx **)** |const|

返回节点的索引，即它相对于其兄弟节点的位置。这仅在将新节点添加到基础场景的兄弟节点之间的实例化或继承场景中的情况下，才关联并保存在场景中。尽管名称如此，但该索引与此处和其他方法中使用的 ``idx`` 参数无关。

----

.. _class_SceneState_method_get_node_instance:

- :ref:`PackedScene<class_PackedScene>` **get_node_instance** **(** :ref:`int<class_int>` idx **)** |const|

返回\ ``idx``\ 处的节点的\ :ref:`PackedScene<class_PackedScene>`\ （即从该节点开始的整个分支，包括其子节点和资源），如果该节点不是一个实例，则返回\ ``null``\ 。

----

.. _class_SceneState_method_get_node_instance_placeholder:

- :ref:`String<class_String>` **get_node_instance_placeholder** **(** :ref:`int<class_int>` idx **)** |const|

如果\ ``idx``\ 处的节点是一个\ :ref:`InstancePlaceholder<class_InstancePlaceholder>`\ ，返回所代表的场景文件的路径。

----

.. _class_SceneState_method_get_node_name:

- :ref:`String<class_String>` **get_node_name** **(** :ref:`int<class_int>` idx **)** |const|

返回\ ``idx``\ 处的节点名称。

----

.. _class_SceneState_method_get_node_owner_path:

- :ref:`NodePath<class_NodePath>` **get_node_owner_path** **(** :ref:`int<class_int>` idx **)** |const|

返回相对于根节点的 在\ ``idx`` 处节点的所有者的路径。

----

.. _class_SceneState_method_get_node_path:

- :ref:`NodePath<class_NodePath>` **get_node_path** **(** :ref:`int<class_int>` idx, :ref:`bool<class_bool>` for_parent=false **)** |const|

返回\ ``idx``\ 处的节点的路径。

如果\ ``for_parent``\ 是\ ``true``\ ，则返回\ ``idx``\ 节点的父节点的路径。

----

.. _class_SceneState_method_get_node_property_count:

- :ref:`int<class_int>` **get_node_property_count** **(** :ref:`int<class_int>` idx **)** |const|

返回节点在 ``idx`` 处导出或覆盖的属性数。

\ ``prop_idx`` 参数用于在区间 ``[0, get_node_property_count() - 1]`` 的其他 ``get_node_property_*`` 方法中查询节点属性数据。

----

.. _class_SceneState_method_get_node_property_name:

- :ref:`String<class_String>` **get_node_property_name** **(** :ref:`int<class_int>` idx, :ref:`int<class_int>` prop_idx **)** |const|

返回\ ``prop_idx``\ 处的属性名称，用于\ ``idx``\ 处的节点。

----

.. _class_SceneState_method_get_node_property_value:

- :ref:`Variant<class_Variant>` **get_node_property_value** **(** :ref:`int<class_int>` idx, :ref:`int<class_int>` prop_idx **)** |const|

返回 ``idx`` 节点的 ``prop_idx`` 属性值。

----

.. _class_SceneState_method_get_node_type:

- :ref:`String<class_String>` **get_node_type** **(** :ref:`int<class_int>` idx **)** |const|

返回\ ``idx``\ 处节点的类型。

----

.. _class_SceneState_method_is_node_instance_placeholder:

- :ref:`bool<class_bool>` **is_node_instance_placeholder** **(** :ref:`int<class_int>` idx **)** |const|

如果\ ``idx``\ 处的节点是一个\ :ref:`InstancePlaceholder<class_InstancePlaceholder>`\ ，返回\ ``true``\ 。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
