:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the EditorSpatialGizmo.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_EditorSpatialGizmo:

EditorSpatialGizmo
==================

**Inherits:** :ref:`SpatialGizmo<class_SpatialGizmo>` **<** :ref:`Reference<class_Reference>` **<** :ref:`Object<class_Object>`

用于编辑空间对象的自定义小工具。

描述
----

自定义小工具，用于为 3D Spatial 对象提供自定义可视化和编辑（手柄）。更多信息请参阅 :ref:`EditorSpatialGizmoPlugin<class_EditorSpatialGizmoPlugin>`\ 。

方法
----

+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`add_collision_segments<class_EditorSpatialGizmo_method_add_collision_segments>` **(** :ref:`PoolVector3Array<class_PoolVector3Array>` segments **)**                                                                                                               |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`add_collision_triangles<class_EditorSpatialGizmo_method_add_collision_triangles>` **(** :ref:`TriangleMesh<class_TriangleMesh>` triangles **)**                                                                                                                    |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`add_handles<class_EditorSpatialGizmo_method_add_handles>` **(** :ref:`PoolVector3Array<class_PoolVector3Array>` handles, :ref:`Material<class_Material>` material, :ref:`bool<class_bool>` billboard=false, :ref:`bool<class_bool>` secondary=false **)**          |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`add_lines<class_EditorSpatialGizmo_method_add_lines>` **(** :ref:`PoolVector3Array<class_PoolVector3Array>` lines, :ref:`Material<class_Material>` material, :ref:`bool<class_bool>` billboard=false, :ref:`Color<class_Color>` modulate=Color( 1, 1, 1, 1 ) **)** |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`add_mesh<class_EditorSpatialGizmo_method_add_mesh>` **(** :ref:`Mesh<class_Mesh>` mesh, :ref:`bool<class_bool>` billboard=false, :ref:`SkinReference<class_SkinReference>` skeleton=null, :ref:`Material<class_Material>` material=null **)**                      |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`add_unscaled_billboard<class_EditorSpatialGizmo_method_add_unscaled_billboard>` **(** :ref:`Material<class_Material>` material, :ref:`float<class_float>` default_scale=1, :ref:`Color<class_Color>` modulate=Color( 1, 1, 1, 1 ) **)**                            |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`clear<class_EditorSpatialGizmo_method_clear>` **(** **)**                                                                                                                                                                                                          |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`commit_handle<class_EditorSpatialGizmo_method_commit_handle>` **(** :ref:`int<class_int>` index, :ref:`Variant<class_Variant>` restore, :ref:`bool<class_bool>` cancel=false **)** |virtual|                                                                       |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                                     | :ref:`get_handle_name<class_EditorSpatialGizmo_method_get_handle_name>` **(** :ref:`int<class_int>` index **)** |virtual|                                                                                                                                                |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Variant<class_Variant>`                                   | :ref:`get_handle_value<class_EditorSpatialGizmo_method_get_handle_value>` **(** :ref:`int<class_int>` index **)** |virtual|                                                                                                                                              |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`EditorSpatialGizmoPlugin<class_EditorSpatialGizmoPlugin>` | :ref:`get_plugin<class_EditorSpatialGizmo_method_get_plugin>` **(** **)** |const|                                                                                                                                                                                        |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Spatial<class_Spatial>`                                   | :ref:`get_spatial_node<class_EditorSpatialGizmo_method_get_spatial_node>` **(** **)** |const|                                                                                                                                                                            |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                                         | :ref:`is_handle_highlighted<class_EditorSpatialGizmo_method_is_handle_highlighted>` **(** :ref:`int<class_int>` index **)** |virtual|                                                                                                                                    |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`redraw<class_EditorSpatialGizmo_method_redraw>` **(** **)** |virtual|                                                                                                                                                                                              |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`set_handle<class_EditorSpatialGizmo_method_set_handle>` **(** :ref:`int<class_int>` index, :ref:`Camera<class_Camera>` camera, :ref:`Vector2<class_Vector2>` point **)** |virtual|                                                                                 |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`set_hidden<class_EditorSpatialGizmo_method_set_hidden>` **(** :ref:`bool<class_bool>` hidden **)**                                                                                                                                                                 |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                                            | :ref:`set_spatial_node<class_EditorSpatialGizmo_method_set_spatial_node>` **(** :ref:`Node<class_Node>` node **)**                                                                                                                                                       |
+-----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

方法说明
--------

.. _class_EditorSpatialGizmo_method_add_collision_segments:

- void **add_collision_segments** **(** :ref:`PoolVector3Array<class_PoolVector3Array>` segments **)**

将指定的\ ``segments``\ 添加到gizmo的碰撞形状中，以便挑选。在\ :ref:`redraw<class_EditorSpatialGizmo_method_redraw>`\ 时调用此函数。

----

.. _class_EditorSpatialGizmo_method_add_collision_triangles:

- void **add_collision_triangles** **(** :ref:`TriangleMesh<class_TriangleMesh>` triangles **)**

将碰撞三角形添加到小工具中，供挑选。也可以从普通的\ :ref:`Mesh<class_Mesh>`\ 生成\ :ref:`TriangleMesh<class_TriangleMesh>`\ 。在\ :ref:`redraw<class_EditorSpatialGizmo_method_redraw>`\ 时调用此函数。

----

.. _class_EditorSpatialGizmo_method_add_handles:

- void **add_handles** **(** :ref:`PoolVector3Array<class_PoolVector3Array>` handles, :ref:`Material<class_Material>` material, :ref:`bool<class_bool>` billboard=false, :ref:`bool<class_bool>` secondary=false **)**

添加一个句柄（点）列表，可以用来对编辑的对象进行变形。

有一些虚函数将在编辑这些句柄时被调用。在 :ref:`redraw<class_EditorSpatialGizmo_method_redraw>`\ 时调用这个函数。

----

.. _class_EditorSpatialGizmo_method_add_lines:

- void **add_lines** **(** :ref:`PoolVector3Array<class_PoolVector3Array>` lines, :ref:`Material<class_Material>` material, :ref:`bool<class_bool>` billboard=false, :ref:`Color<class_Color>` modulate=Color( 1, 1, 1, 1 ) **)**

用给定的材质在小工具上添加线条到gizmo （作为2个点的集合）。线条用于可视化gizmo。在\ :ref:`redraw<class_EditorSpatialGizmo_method_redraw>`\ 时调用此函数。

----

.. _class_EditorSpatialGizmo_method_add_mesh:

- void **add_mesh** **(** :ref:`Mesh<class_Mesh>` mesh, :ref:`bool<class_bool>` billboard=false, :ref:`SkinReference<class_SkinReference>` skeleton=null, :ref:`Material<class_Material>` material=null **)**

以指定的 ``billboard`` 状态、\ ``skeleton`` 和 ``materia`` 添加网格到小工具。如果 ``billboard`` 为 ``true``\ ，则网格将旋转为始终面向相机。在 :ref:`redraw<class_EditorSpatialGizmo_method_redraw>` 时调用此函数。

----

.. _class_EditorSpatialGizmo_method_add_unscaled_billboard:

- void **add_unscaled_billboard** **(** :ref:`Material<class_Material>` material, :ref:`float<class_float>` default_scale=1, :ref:`Color<class_Color>` modulate=Color( 1, 1, 1, 1 ) **)**

添加一个未缩放的广告牌以实现可视化。在\ :ref:`redraw<class_EditorSpatialGizmo_method_redraw>`\ 时调用此函数。

----

.. _class_EditorSpatialGizmo_method_clear:

- void **clear** **(** **)**

移除小工具中的一切，包括网格、碰撞和句柄。

----

.. _class_EditorSpatialGizmo_method_commit_handle:

- void **commit_handle** **(** :ref:`int<class_int>` index, :ref:`Variant<class_Variant>` restore, :ref:`bool<class_bool>` cancel=false **)** |virtual|

提交一个正在编辑的句柄（句柄必须是之前通过\ :ref:`add_handles<class_EditorSpatialGizmo_method_add_handles>`\ 添加的）。

如果\ ``cancel``\ 参数是\ ``true``\ ，则提供了一个将编辑后的值恢复到原始值的选项。

----

.. _class_EditorSpatialGizmo_method_get_handle_name:

- :ref:`String<class_String>` **get_handle_name** **(** :ref:`int<class_int>` index **)** |virtual|

获取已编辑的句柄的名称（句柄必须是之前通过\ :ref:`add_handles<class_EditorSpatialGizmo_method_add_handles>`\ 添加的）。

句柄的名称可以在编辑时被命名作为用户参考。

----

.. _class_EditorSpatialGizmo_method_get_handle_value:

- :ref:`Variant<class_Variant>` **get_handle_value** **(** :ref:`int<class_int>` index **)** |virtual|

获取一个句柄的实际值，这个值可以是任何东西，用于在调用\ :ref:`commit_handle<class_EditorSpatialGizmo_method_commit_handle>`\ 时最终撤销动作。这个值可以是任何东西，用于在调用\ :ref:`commit_handle<class_EditorSpatialGizmo_method_commit_handle>`\ 时最终撤销动作。

----

.. _class_EditorSpatialGizmo_method_get_plugin:

- :ref:`EditorSpatialGizmoPlugin<class_EditorSpatialGizmoPlugin>` **get_plugin** **(** **)** |const|

返回拥有此小工具的 :ref:`EditorSpatialGizmoPlugin<class_EditorSpatialGizmoPlugin>` 。使用 :ref:`EditorSpatialGizmoPlugin.get_material<class_EditorSpatialGizmoPlugin_method_get_material>` 检索材质很有用。

----

.. _class_EditorSpatialGizmo_method_get_spatial_node:

- :ref:`Spatial<class_Spatial>` **get_spatial_node** **(** **)** |const|

返回与此小工具相关联的 Spatial 节点。

----

.. _class_EditorSpatialGizmo_method_is_handle_highlighted:

- :ref:`bool<class_bool>` **is_handle_highlighted** **(** :ref:`int<class_int>` index **)** |virtual|

如果鼠标悬停索引为 ``index`` 的句柄高亮，则返回\ ``true``\ 。

----

.. _class_EditorSpatialGizmo_method_redraw:

- void **redraw** **(** **)** |virtual|

当这个工具所指 :ref:`Spatial<class_Spatial>` 的变化时（\ :ref:`Spatial.update_gizmo<class_Spatial_method_update_gizmo>` 函数被调用）。

----

.. _class_EditorSpatialGizmo_method_set_handle:

- void **set_handle** **(** :ref:`int<class_int>` index, :ref:`Camera<class_Camera>` camera, :ref:`Vector2<class_Vector2>` point **)** |virtual|

当用户在屏幕坐标中拖动一个 gizmo 工具手柄时（之前用 :ref:`add_handles<class_EditorSpatialGizmo_method_add_handles>` 添加的），就会使用这个函数。

还提供了相机 :ref:`Camera<class_Camera>`\ ，以便将屏幕坐标转换为射线投影。

----

.. _class_EditorSpatialGizmo_method_set_hidden:

- void **set_hidden** **(** :ref:`bool<class_bool>` hidden **)**

设置工具的隐藏状态。如果\ ``true``\ ，则小控件将被隐藏。如果\ ``false``\ ，将显示它。

----

.. _class_EditorSpatialGizmo_method_set_spatial_node:

- void **set_spatial_node** **(** :ref:`Node<class_Node>` node **)**

设置工具的参考 :ref:`Spatial<class_Spatial>` 节点。 ``node``\ 必须继承自 :ref:`Spatial<class_Spatial>`\ 。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
