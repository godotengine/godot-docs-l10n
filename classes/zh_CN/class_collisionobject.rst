:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the CollisionObject.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_CollisionObject:

CollisionObject
===============

**Inherits:** :ref:`Spatial<class_Spatial>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

**Inherited By:** :ref:`Area<class_Area>`, :ref:`PhysicsBody<class_PhysicsBody>`

碰撞对象的基础节点。

描述
----

CollisionObject 是物理对象的基类。它可以容纳任何数量的碰撞形状 :ref:`Shape<class_Shape>`\ 。每个形状必须分配给一个形状所有者 *shape owner*\ 。CollisionObject 可以有任意数量的形状所有者。形状所有者不是节点，也不会出现在编辑器中，但是可以通过代码使用 ``shape_owner_*`` 方法进行访问。

属性
----

+-------------------------+------------------------------------------------------------------------------------+-----------+
| :ref:`int<class_int>`   | :ref:`collision_layer<class_CollisionObject_property_collision_layer>`             | ``1``     |
+-------------------------+------------------------------------------------------------------------------------+-----------+
| :ref:`int<class_int>`   | :ref:`collision_mask<class_CollisionObject_property_collision_mask>`               | ``1``     |
+-------------------------+------------------------------------------------------------------------------------+-----------+
| :ref:`bool<class_bool>` | :ref:`input_capture_on_drag<class_CollisionObject_property_input_capture_on_drag>` | ``false`` |
+-------------------------+------------------------------------------------------------------------------------+-----------+
| :ref:`bool<class_bool>` | :ref:`input_ray_pickable<class_CollisionObject_property_input_ray_pickable>`       | ``true``  |
+-------------------------+------------------------------------------------------------------------------------+-----------+

方法
----

+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`_input_event<class_CollisionObject_method__input_event>` **(** :ref:`Object<class_Object>` camera, :ref:`InputEvent<class_InputEvent>` event, :ref:`Vector3<class_Vector3>` position, :ref:`Vector3<class_Vector3>` normal, :ref:`int<class_int>` shape_idx **)** |virtual| |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`create_shape_owner<class_CollisionObject_method_create_shape_owner>` **(** :ref:`Object<class_Object>` owner **)**                                                                                                                                                          |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`           | :ref:`get_collision_layer_bit<class_CollisionObject_method_get_collision_layer_bit>` **(** :ref:`int<class_int>` bit **)** |const|                                                                                                                                                |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`           | :ref:`get_collision_mask_bit<class_CollisionObject_method_get_collision_mask_bit>` **(** :ref:`int<class_int>` bit **)** |const|                                                                                                                                                  |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`RID<class_RID>`             | :ref:`get_rid<class_CollisionObject_method_get_rid>` **(** **)** |const|                                                                                                                                                                                                          |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Array<class_Array>`         | :ref:`get_shape_owners<class_CollisionObject_method_get_shape_owners>` **(** **)**                                                                                                                                                                                                |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`           | :ref:`is_shape_owner_disabled<class_CollisionObject_method_is_shape_owner_disabled>` **(** :ref:`int<class_int>` owner_id **)** |const|                                                                                                                                           |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`remove_shape_owner<class_CollisionObject_method_remove_shape_owner>` **(** :ref:`int<class_int>` owner_id **)**                                                                                                                                                             |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_collision_layer_bit<class_CollisionObject_method_set_collision_layer_bit>` **(** :ref:`int<class_int>` bit, :ref:`bool<class_bool>` value **)**                                                                                                                         |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`set_collision_mask_bit<class_CollisionObject_method_set_collision_mask_bit>` **(** :ref:`int<class_int>` bit, :ref:`bool<class_bool>` value **)**                                                                                                                           |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`shape_find_owner<class_CollisionObject_method_shape_find_owner>` **(** :ref:`int<class_int>` shape_index **)** |const|                                                                                                                                                      |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`shape_owner_add_shape<class_CollisionObject_method_shape_owner_add_shape>` **(** :ref:`int<class_int>` owner_id, :ref:`Shape<class_Shape>` shape **)**                                                                                                                      |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`shape_owner_clear_shapes<class_CollisionObject_method_shape_owner_clear_shapes>` **(** :ref:`int<class_int>` owner_id **)**                                                                                                                                                 |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Object<class_Object>`       | :ref:`shape_owner_get_owner<class_CollisionObject_method_shape_owner_get_owner>` **(** :ref:`int<class_int>` owner_id **)** |const|                                                                                                                                               |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Shape<class_Shape>`         | :ref:`shape_owner_get_shape<class_CollisionObject_method_shape_owner_get_shape>` **(** :ref:`int<class_int>` owner_id, :ref:`int<class_int>` shape_id **)** |const|                                                                                                               |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`shape_owner_get_shape_count<class_CollisionObject_method_shape_owner_get_shape_count>` **(** :ref:`int<class_int>` owner_id **)** |const|                                                                                                                                   |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`             | :ref:`shape_owner_get_shape_index<class_CollisionObject_method_shape_owner_get_shape_index>` **(** :ref:`int<class_int>` owner_id, :ref:`int<class_int>` shape_id **)** |const|                                                                                                   |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Transform<class_Transform>` | :ref:`shape_owner_get_transform<class_CollisionObject_method_shape_owner_get_transform>` **(** :ref:`int<class_int>` owner_id **)** |const|                                                                                                                                       |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`shape_owner_remove_shape<class_CollisionObject_method_shape_owner_remove_shape>` **(** :ref:`int<class_int>` owner_id, :ref:`int<class_int>` shape_id **)**                                                                                                                 |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`shape_owner_set_disabled<class_CollisionObject_method_shape_owner_set_disabled>` **(** :ref:`int<class_int>` owner_id, :ref:`bool<class_bool>` disabled **)**                                                                                                               |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                              | :ref:`shape_owner_set_transform<class_CollisionObject_method_shape_owner_set_transform>` **(** :ref:`int<class_int>` owner_id, :ref:`Transform<class_Transform>` transform **)**                                                                                                  |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

信号
----

.. _class_CollisionObject_signal_input_event:

- **input_event** **(** :ref:`Node<class_Node>` camera, :ref:`InputEvent<class_InputEvent>` event, :ref:`Vector3<class_Vector3>` position, :ref:`Vector3<class_Vector3>` normal, :ref:`int<class_int>` shape_idx **)**

当对象收到未处理的 :ref:`InputEvent<class_InputEvent>` 时发出。 ``position`` 是鼠标指针在具有索引 ``shape_idx`` 的形状表面在世界空间中的位置，\ ``normal`` 是该点表面的法向量.

----

.. _class_CollisionObject_signal_mouse_entered:

- **mouse_entered** **(** **)**

当鼠标指针进入此对象的任何形状时触发。

----

.. _class_CollisionObject_signal_mouse_exited:

- **mouse_exited** **(** **)**

当鼠标指针退出此对象的所有形状时发出。

属性说明
--------

.. _class_CollisionObject_property_collision_layer:

- :ref:`int<class_int>` **collision_layer**

+-----------+----------------------------+
| *Default* | ``1``                      |
+-----------+----------------------------+
| *Setter*  | set_collision_layer(value) |
+-----------+----------------------------+
| *Getter*  | get_collision_layer()      |
+-----------+----------------------------+

The physics layers this CollisionObject3D is in. Collision objects can exist in one or more of 32 different layers. See also :ref:`collision_mask<class_CollisionObject_property_collision_mask>`.

\ **Note:** A contact is detected if object A is in any of the layers that object B scans, or object B is in any layers that object A scans. See `Collision layers and masks <../tutorials/physics/physics_introduction.html#collision-layers-and-masks>`__ in the documentation for more information.

----

.. _class_CollisionObject_property_collision_mask:

- :ref:`int<class_int>` **collision_mask**

+-----------+---------------------------+
| *Default* | ``1``                     |
+-----------+---------------------------+
| *Setter*  | set_collision_mask(value) |
+-----------+---------------------------+
| *Getter*  | get_collision_mask()      |
+-----------+---------------------------+

The physics layers this CollisionObject3D scans. Collision objects can scan one or more of 32 different layers. See also :ref:`collision_layer<class_CollisionObject_property_collision_layer>`.

\ **Note:** A contact is detected if object A is in any of the layers that object B scans, or object B is in any layers that object A scans. See `Collision layers and masks <../tutorials/physics/physics_introduction.html#collision-layers-and-masks>`__ in the documentation for more information.

----

.. _class_CollisionObject_property_input_capture_on_drag:

- :ref:`bool<class_bool>` **input_capture_on_drag**

+-----------+----------------------------------+
| *Default* | ``false``                        |
+-----------+----------------------------------+
| *Setter*  | set_capture_input_on_drag(value) |
+-----------+----------------------------------+
| *Getter*  | get_capture_input_on_drag()      |
+-----------+----------------------------------+

如果\ ``true``\ ，\ ``CollisionObject`` 将在鼠标拖过其形状时继续接收输入事件。

----

.. _class_CollisionObject_property_input_ray_pickable:

- :ref:`bool<class_bool>` **input_ray_pickable**

+-----------+-------------------------+
| *Default* | ``true``                |
+-----------+-------------------------+
| *Setter*  | set_ray_pickable(value) |
+-----------+-------------------------+
| *Getter*  | is_ray_pickable()       |
+-----------+-------------------------+

如果\ ``true``\ ，\ ``CollisionObject`` 的形状将对 :ref:`RayCast<class_RayCast>` 做出反应。

方法说明
--------

.. _class_CollisionObject_method__input_event:

- void **_input_event** **(** :ref:`Object<class_Object>` camera, :ref:`InputEvent<class_InputEvent>` event, :ref:`Vector3<class_Vector3>` position, :ref:`Vector3<class_Vector3>` normal, :ref:`int<class_int>` shape_idx **)** |virtual|

接收未处理的事件 :ref:`InputEvent<class_InputEvent>`\ 。 ``position`` 是鼠标指针在具有索引 ``shape_idx`` 的形状表面在世界空间中的位置，\ ``normal`` 是该点表面的法向量。连接到 :ref:`input_event<class_CollisionObject_signal_input_event>` 信号以轻松获取这些事件。

----

.. _class_CollisionObject_method_create_shape_owner:

- :ref:`int<class_int>` **create_shape_owner** **(** :ref:`Object<class_Object>` owner **)**

为给定对象创建一个新的形状拥有者。返回\ ``owner_id``\ 的新所有者，供将来引用。

----

.. _class_CollisionObject_method_get_collision_layer_bit:

- :ref:`bool<class_bool>` **get_collision_layer_bit** **(** :ref:`int<class_int>` bit **)** |const|

返回是否设置了碰撞层 :ref:`collision_layer<class_CollisionObject_property_collision_layer>` 的指定位\ ``bit``\ 。

----

.. _class_CollisionObject_method_get_collision_mask_bit:

- :ref:`bool<class_bool>` **get_collision_mask_bit** **(** :ref:`int<class_int>` bit **)** |const|

返回是否设置了碰撞掩码 :ref:`collision_mask<class_CollisionObject_property_collision_mask>` 的指定位\ ``bit``\ 。

----

.. _class_CollisionObject_method_get_rid:

- :ref:`RID<class_RID>` **get_rid** **(** **)** |const|

返回对象的 :ref:`RID<class_RID>`\ 。

----

.. _class_CollisionObject_method_get_shape_owners:

- :ref:`Array<class_Array>` **get_shape_owners** **(** **)**

返回一个\ ``owner_id``\ 标识符的\ :ref:`Array<class_Array>`\ 。你可以在其他使用\ ``owner_id``\ 作为参数的方法中使用这些id。

----

.. _class_CollisionObject_method_is_shape_owner_disabled:

- :ref:`bool<class_bool>` **is_shape_owner_disabled** **(** :ref:`int<class_int>` owner_id **)** |const|

如果\ ``true``\ ，则禁用形状所有者及其形状。

----

.. _class_CollisionObject_method_remove_shape_owner:

- void **remove_shape_owner** **(** :ref:`int<class_int>` owner_id **)**

移除给定形状的所有者。

----

.. _class_CollisionObject_method_set_collision_layer_bit:

- void **set_collision_layer_bit** **(** :ref:`int<class_int>` bit, :ref:`bool<class_bool>` value **)**

如果\ ``value``\ 为\ ``true``\ ，则设置\ :ref:`collision_layer<class_CollisionObject_property_collision_layer>`\ 中指定的\ ``bit``\ 位。

如果\ ``value``\ 为\ ``false``\ ，清除\ :ref:`collision_layer<class_CollisionObject_property_collision_layer>`\ 中指定的 ``bit``\ 位。

----

.. _class_CollisionObject_method_set_collision_mask_bit:

- void **set_collision_mask_bit** **(** :ref:`int<class_int>` bit, :ref:`bool<class_bool>` value **)**

如果\ ``value``\ 为\ ``true``\ ，则设置\ :ref:`collision_mask<class_CollisionObject_property_collision_mask>`\ 中指定的\ ``bit``\ 位。

如果\ ``value``\ 为\ ``false``\ ，清除\ :ref:`collision_mask<class_CollisionObject_property_collision_mask>`\ 中指定的 ``bit``\ 位。

----

.. _class_CollisionObject_method_shape_find_owner:

- :ref:`int<class_int>` **shape_find_owner** **(** :ref:`int<class_int>` shape_index **)** |const|

返回指定形状的\ ``owner_id``\ 。

----

.. _class_CollisionObject_method_shape_owner_add_shape:

- void **shape_owner_add_shape** **(** :ref:`int<class_int>` owner_id, :ref:`Shape<class_Shape>` shape **)**

向形状所有者添加形状 :ref:`Shape<class_Shape>`\ 。

----

.. _class_CollisionObject_method_shape_owner_clear_shapes:

- void **shape_owner_clear_shapes** **(** :ref:`int<class_int>` owner_id **)**

移除形状所有者的所有形状。

----

.. _class_CollisionObject_method_shape_owner_get_owner:

- :ref:`Object<class_Object>` **shape_owner_get_owner** **(** :ref:`int<class_int>` owner_id **)** |const|

返回给定形状所有者的父对象。

----

.. _class_CollisionObject_method_shape_owner_get_shape:

- :ref:`Shape<class_Shape>` **shape_owner_get_shape** **(** :ref:`int<class_int>` owner_id, :ref:`int<class_int>` shape_id **)** |const|

从给定的形状所有者返回具有给定 id 的形状 :ref:`Shape<class_Shape>`\ 。

----

.. _class_CollisionObject_method_shape_owner_get_shape_count:

- :ref:`int<class_int>` **shape_owner_get_shape_count** **(** :ref:`int<class_int>` owner_id **)** |const|

返回给定形状所有者包含的形状数量。

----

.. _class_CollisionObject_method_shape_owner_get_shape_index:

- :ref:`int<class_int>` **shape_owner_get_shape_index** **(** :ref:`int<class_int>` owner_id, :ref:`int<class_int>` shape_id **)** |const|

返回具有给定形状所有者的给定 id 的形状 :ref:`Shape<class_Shape>` 的子索引。

----

.. _class_CollisionObject_method_shape_owner_get_transform:

- :ref:`Transform<class_Transform>` **shape_owner_get_transform** **(** :ref:`int<class_int>` owner_id **)** |const|

返回形状所有者的\ :ref:`Transform<class_Transform>`\ 。

----

.. _class_CollisionObject_method_shape_owner_remove_shape:

- void **shape_owner_remove_shape** **(** :ref:`int<class_int>` owner_id, :ref:`int<class_int>` shape_id **)**

从给定的形状所有者中删除一个形状。

----

.. _class_CollisionObject_method_shape_owner_set_disabled:

- void **shape_owner_set_disabled** **(** :ref:`int<class_int>` owner_id, :ref:`bool<class_bool>` disabled **)**

如果\ ``true``\ ，则禁用给定的形状所有者。

----

.. _class_CollisionObject_method_shape_owner_set_transform:

- void **shape_owner_set_transform** **(** :ref:`int<class_int>` owner_id, :ref:`Transform<class_Transform>` transform **)**

设置给定形状所有者的\ :ref:`Transform<class_Transform>`\ 。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
