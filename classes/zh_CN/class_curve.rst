:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the Curve.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_Curve:

Curve
=====

**Inherits:** :ref:`Resource<class_Resource>` **<** :ref:`Reference<class_Reference>` **<** :ref:`Object<class_Object>`

一条数学曲线。

描述
----

可以保存并重新用于其他对象的曲线。默认情况下，它在Y轴上的范围在 ``0`` 到 ``1``\ 之间，并且位置点相对于 ``0.5`` Y 位置。

属性
----

+---------------------------+--------------------------------------------------------------+---------+
| :ref:`int<class_int>`     | :ref:`bake_resolution<class_Curve_property_bake_resolution>` | ``100`` |
+---------------------------+--------------------------------------------------------------+---------+
| :ref:`float<class_float>` | :ref:`max_value<class_Curve_property_max_value>`             | ``1.0`` |
+---------------------------+--------------------------------------------------------------+---------+
| :ref:`float<class_float>` | :ref:`min_value<class_Curve_property_min_value>`             | ``0.0`` |
+---------------------------+--------------------------------------------------------------+---------+

方法
----

+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                      | :ref:`add_point<class_Curve_method_add_point>` **(** :ref:`Vector2<class_Vector2>` position, :ref:`float<class_float>` left_tangent=0, :ref:`float<class_float>` right_tangent=0, :ref:`TangentMode<enum_Curve_TangentMode>` left_mode=0, :ref:`TangentMode<enum_Curve_TangentMode>` right_mode=0 **)** |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`bake<class_Curve_method_bake>` **(** **)**                                                                                                                                                                                                                                                        |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`clean_dupes<class_Curve_method_clean_dupes>` **(** **)**                                                                                                                                                                                                                                          |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`clear_points<class_Curve_method_clear_points>` **(** **)**                                                                                                                                                                                                                                        |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                      | :ref:`get_point_count<class_Curve_method_get_point_count>` **(** **)** |const|                                                                                                                                                                                                                          |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`TangentMode<enum_Curve_TangentMode>` | :ref:`get_point_left_mode<class_Curve_method_get_point_left_mode>` **(** :ref:`int<class_int>` index **)** |const|                                                                                                                                                                                      |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                  | :ref:`get_point_left_tangent<class_Curve_method_get_point_left_tangent>` **(** :ref:`int<class_int>` index **)** |const|                                                                                                                                                                                |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Vector2<class_Vector2>`              | :ref:`get_point_position<class_Curve_method_get_point_position>` **(** :ref:`int<class_int>` index **)** |const|                                                                                                                                                                                        |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`TangentMode<enum_Curve_TangentMode>` | :ref:`get_point_right_mode<class_Curve_method_get_point_right_mode>` **(** :ref:`int<class_int>` index **)** |const|                                                                                                                                                                                    |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                  | :ref:`get_point_right_tangent<class_Curve_method_get_point_right_tangent>` **(** :ref:`int<class_int>` index **)** |const|                                                                                                                                                                              |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                  | :ref:`interpolate<class_Curve_method_interpolate>` **(** :ref:`float<class_float>` offset **)** |const|                                                                                                                                                                                                 |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                  | :ref:`interpolate_baked<class_Curve_method_interpolate_baked>` **(** :ref:`float<class_float>` offset **)**                                                                                                                                                                                             |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`remove_point<class_Curve_method_remove_point>` **(** :ref:`int<class_int>` index **)**                                                                                                                                                                                                            |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`set_point_left_mode<class_Curve_method_set_point_left_mode>` **(** :ref:`int<class_int>` index, :ref:`TangentMode<enum_Curve_TangentMode>` mode **)**                                                                                                                                             |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`set_point_left_tangent<class_Curve_method_set_point_left_tangent>` **(** :ref:`int<class_int>` index, :ref:`float<class_float>` tangent **)**                                                                                                                                                     |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                      | :ref:`set_point_offset<class_Curve_method_set_point_offset>` **(** :ref:`int<class_int>` index, :ref:`float<class_float>` offset **)**                                                                                                                                                                  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`set_point_right_mode<class_Curve_method_set_point_right_mode>` **(** :ref:`int<class_int>` index, :ref:`TangentMode<enum_Curve_TangentMode>` mode **)**                                                                                                                                           |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`set_point_right_tangent<class_Curve_method_set_point_right_tangent>` **(** :ref:`int<class_int>` index, :ref:`float<class_float>` tangent **)**                                                                                                                                                   |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                       | :ref:`set_point_value<class_Curve_method_set_point_value>` **(** :ref:`int<class_int>` index, :ref:`float<class_float>` y **)**                                                                                                                                                                         |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

信号
----

.. _class_Curve_signal_range_changed:

- **range_changed** **(** **)**

更改 :ref:`max_value<class_Curve_property_max_value>` 或 :ref:`min_value<class_Curve_property_min_value>` 时发出。

枚举
----

.. _enum_Curve_TangentMode:

.. _class_Curve_constant_TANGENT_FREE:

.. _class_Curve_constant_TANGENT_LINEAR:

.. _class_Curve_constant_TANGENT_MODE_COUNT:

enum **TangentMode**:

- **TANGENT_FREE** = **0** --- 点这边的切线是用户自定义的。

- **TANGENT_LINEAR** = **1** --- 曲线计算点的这一侧的切线，作为向相邻点的一半的斜率。

- **TANGENT_MODE_COUNT** = **2** --- 可用切线模式的总数。

属性说明
--------

.. _class_Curve_property_bake_resolution:

- :ref:`int<class_int>` **bake_resolution**

+-----------+----------------------------+
| *Default* | ``100``                    |
+-----------+----------------------------+
| *Setter*  | set_bake_resolution(value) |
+-----------+----------------------------+
| *Getter*  | get_bake_resolution()      |
+-----------+----------------------------+

烘焙（即缓存）曲线数据中包含的点的数量。

----

.. _class_Curve_property_max_value:

- :ref:`float<class_float>` **max_value**

+-----------+----------------------+
| *Default* | ``1.0``              |
+-----------+----------------------+
| *Setter*  | set_max_value(value) |
+-----------+----------------------+
| *Getter*  | get_max_value()      |
+-----------+----------------------+

曲线能达到的最大值。

----

.. _class_Curve_property_min_value:

- :ref:`float<class_float>` **min_value**

+-----------+----------------------+
| *Default* | ``0.0``              |
+-----------+----------------------+
| *Setter*  | set_min_value(value) |
+-----------+----------------------+
| *Getter*  | get_min_value()      |
+-----------+----------------------+

曲线能达到的最小值。

方法说明
--------

.. _class_Curve_method_add_point:

- :ref:`int<class_int>` **add_point** **(** :ref:`Vector2<class_Vector2>` position, :ref:`float<class_float>` left_tangent=0, :ref:`float<class_float>` right_tangent=0, :ref:`TangentMode<enum_Curve_TangentMode>` left_mode=0, :ref:`TangentMode<enum_Curve_TangentMode>` right_mode=0 **)**

在曲线上添加一个点。对于每一侧，如果\ ``*_mode``\ 为\ :ref:`TANGENT_LINEAR<class_Curve_constant_TANGENT_LINEAR>`\ ，则\ ``*_tangent``\ 角度（以度为单位）将使用曲线到邻近点的一半的斜率。如果\ ``*_mode``\ 设置为\ :ref:`TANGENT_FREE<class_Curve_constant_TANGENT_FREE>`\ ，则允许自定义分配给\ ``*_tangent``\ 角度。

----

.. _class_Curve_method_bake:

- void **bake** **(** **)**

重新计算曲线的烘焙点缓存。

----

.. _class_Curve_method_clean_dupes:

- void **clean_dupes** **(** **)**

删除比曲线上的相邻点近\ ``CMP_EPSILON``\ （0.00001）个单位的点。

----

.. _class_Curve_method_clear_points:

- void **clear_points** **(** **)**

从曲线中删除所有点。

----

.. _class_Curve_method_get_point_count:

- :ref:`int<class_int>` **get_point_count** **(** **)** |const|

返回描述曲线的点数。

----

.. _class_Curve_method_get_point_left_mode:

- :ref:`TangentMode<enum_Curve_TangentMode>` **get_point_left_mode** **(** :ref:`int<class_int>` index **)** |const|

返回\ ``index``\ 处的点的左侧\ :ref:`TangentMode<enum_Curve_TangentMode>`\ 。

----

.. _class_Curve_method_get_point_left_tangent:

- :ref:`float<class_float>` **get_point_left_tangent** **(** :ref:`int<class_int>` index **)** |const|

返回\ ``index``\ 处的点的左切线角（以度为单位）。

----

.. _class_Curve_method_get_point_position:

- :ref:`Vector2<class_Vector2>` **get_point_position** **(** :ref:`int<class_int>` index **)** |const|

返回\ ``index``\ 处该点的曲线坐标。

----

.. _class_Curve_method_get_point_right_mode:

- :ref:`TangentMode<enum_Curve_TangentMode>` **get_point_right_mode** **(** :ref:`int<class_int>` index **)** |const|

返回在\ ``index``\ 处的点的右\ :ref:`TangentMode<enum_Curve_TangentMode>`\ 。

----

.. _class_Curve_method_get_point_right_tangent:

- :ref:`float<class_float>` **get_point_right_tangent** **(** :ref:`int<class_int>` index **)** |const|

返回\ ``index``\ 处的点的左切线角（以度为单位）。

----

.. _class_Curve_method_interpolate:

- :ref:`float<class_float>` **interpolate** **(** :ref:`float<class_float>` offset **)** |const|

返回沿曲线的X位置\ ``offset``\ 处将存在的点的Y值。

----

.. _class_Curve_method_interpolate_baked:

- :ref:`float<class_float>` **interpolate_baked** **(** :ref:`float<class_float>` offset **)**

使用烘焙的缓存返回沿曲线的X位置\ ``offset``\ 处将存在的点的Y值。如果尚未烘焙曲线的点，则将其烘焙。

----

.. _class_Curve_method_remove_point:

- void **remove_point** **(** :ref:`int<class_int>` index **)**

从曲线中删除\ ``index``\ 处的点。

----

.. _class_Curve_method_set_point_left_mode:

- void **set_point_left_mode** **(** :ref:`int<class_int>` index, :ref:`TangentMode<enum_Curve_TangentMode>` mode **)**

将\ ``index``\ 处的点的左侧\ :ref:`TangentMode<enum_Curve_TangentMode>`\ 设置为\ ``mode``\ 。

----

.. _class_Curve_method_set_point_left_tangent:

- void **set_point_left_tangent** **(** :ref:`int<class_int>` index, :ref:`float<class_float>` tangent **)**

将点的左切线角度设置为 ``index`` 至 ``tangent``\ 。

----

.. _class_Curve_method_set_point_offset:

- :ref:`int<class_int>` **set_point_offset** **(** :ref:`int<class_int>` index, :ref:`float<class_float>` offset **)**

设置相对于\ ``0.5``\ 的偏移量。

----

.. _class_Curve_method_set_point_right_mode:

- void **set_point_right_mode** **(** :ref:`int<class_int>` index, :ref:`TangentMode<enum_Curve_TangentMode>` mode **)**

将\ ``index``\ 上的点的右侧\ :ref:`TangentMode<enum_Curve_TangentMode>`\ 设置为\ ``mode``\ 。

----

.. _class_Curve_method_set_point_right_tangent:

- void **set_point_right_tangent** **(** :ref:`int<class_int>` index, :ref:`float<class_float>` tangent **)**

设置\ ``index``\ 至\ ``tangent``\ 处的点的右切线角。

----

.. _class_Curve_method_set_point_value:

- void **set_point_value** **(** :ref:`int<class_int>` index, :ref:`float<class_float>` y **)**

将垂直位置\ ``y``\ 分配给\ ``index``\ 处的点。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
