:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the Reference.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_Reference:

Reference
=========

**Inherits:** :ref:`Object<class_Object>`

**Inherited By:** :ref:`AESContext<class_AESContext>`, :ref:`ARVRInterface<class_ARVRInterface>`, :ref:`ARVRPositionalTracker<class_ARVRPositionalTracker>`, :ref:`AStar<class_AStar>`, :ref:`AStar2D<class_AStar2D>`, :ref:`AnimationTrackEditPlugin<class_AnimationTrackEditPlugin>`, :ref:`AudioEffectInstance<class_AudioEffectInstance>`, :ref:`AudioStreamPlayback<class_AudioStreamPlayback>`, :ref:`CameraFeed<class_CameraFeed>`, :ref:`CharFXTransform<class_CharFXTransform>`, :ref:`ConfigFile<class_ConfigFile>`, :ref:`Crypto<class_Crypto>`, :ref:`DTLSServer<class_DTLSServer>`, :ref:`Directory<class_Directory>`, :ref:`EditorExportPlugin<class_EditorExportPlugin>`, :ref:`EditorFeatureProfile<class_EditorFeatureProfile>`, :ref:`EditorInspectorPlugin<class_EditorInspectorPlugin>`, :ref:`EditorResourceConversionPlugin<class_EditorResourceConversionPlugin>`, :ref:`EditorResourcePreviewGenerator<class_EditorResourcePreviewGenerator>`, :ref:`EditorSceneImporter<class_EditorSceneImporter>`, :ref:`EditorScenePostImport<class_EditorScenePostImport>`, :ref:`EditorScript<class_EditorScript>`, :ref:`EncodedObjectAsID<class_EncodedObjectAsID>`, :ref:`Expression<class_Expression>`, :ref:`File<class_File>`, :ref:`FuncRef<class_FuncRef>`, :ref:`GDNative<class_GDNative>`, :ref:`GDScriptFunctionState<class_GDScriptFunctionState>`, :ref:`HMACContext<class_HMACContext>`, :ref:`HTTPClient<class_HTTPClient>`, :ref:`HashingContext<class_HashingContext>`, :ref:`JSONParseResult<class_JSONParseResult>`, :ref:`JavaClass<class_JavaClass>`, :ref:`JavaScriptObject<class_JavaScriptObject>`, :ref:`KinematicCollision<class_KinematicCollision>`, :ref:`KinematicCollision2D<class_KinematicCollision2D>`, :ref:`MeshDataTool<class_MeshDataTool>`, :ref:`MultiplayerAPI<class_MultiplayerAPI>`, :ref:`Mutex<class_Mutex>`, :ref:`PCKPacker<class_PCKPacker>`, :ref:`PackedDataContainerRef<class_PackedDataContainerRef>`, :ref:`PacketPeer<class_PacketPeer>`, :ref:`Physics2DShapeQueryParameters<class_Physics2DShapeQueryParameters>`, :ref:`Physics2DTestMotionResult<class_Physics2DTestMotionResult>`, :ref:`PhysicsShapeQueryParameters<class_PhysicsShapeQueryParameters>`, :ref:`PhysicsTestMotionResult<class_PhysicsTestMotionResult>`, :ref:`RandomNumberGenerator<class_RandomNumberGenerator>`, :ref:`RegEx<class_RegEx>`, :ref:`RegExMatch<class_RegExMatch>`, :ref:`Resource<class_Resource>`, :ref:`ResourceFormatLoader<class_ResourceFormatLoader>`, :ref:`ResourceFormatSaver<class_ResourceFormatSaver>`, :ref:`ResourceImporter<class_ResourceImporter>`, :ref:`ResourceInteractiveLoader<class_ResourceInteractiveLoader>`, :ref:`SceneState<class_SceneState>`, :ref:`SceneTreeTimer<class_SceneTreeTimer>`, :ref:`Semaphore<class_Semaphore>`, :ref:`SkinReference<class_SkinReference>`, :ref:`SpatialGizmo<class_SpatialGizmo>`, :ref:`SpatialVelocityTracker<class_SpatialVelocityTracker>`, :ref:`StreamPeer<class_StreamPeer>`, :ref:`SurfaceTool<class_SurfaceTool>`, :ref:`TCP_Server<class_TCP_Server>`, :ref:`Thread<class_Thread>`, :ref:`TriangleMesh<class_TriangleMesh>`, :ref:`UDPServer<class_UDPServer>`, :ref:`UPNP<class_UPNP>`, :ref:`UPNPDevice<class_UPNPDevice>`, :ref:`VisualScriptFunctionState<class_VisualScriptFunctionState>`, :ref:`WeakRef<class_WeakRef>`, :ref:`WebRTCPeerConnection<class_WebRTCPeerConnection>`, :ref:`XMLParser<class_XMLParser>`

引用计数对象的基类。

描述
----

任何保持引用计数对象的基类。 :ref:`Resource<class_Resource>` 和许多其他辅助对象继承了这个类。

与其他 :ref:`Object<class_Object>` 类型不同，References 保留一个内部引用计数器，以便在不使用且仅在那时自动释放。因此，不需要使用 :ref:`Object.free<class_Object_method_free>` 手动释放引用。

在绝大多数用例中，您只需要实例化和使用 ``Reference`` 派生类型。此类中提供的方法仅适用于高级用户，如果误用可能会导致问题。

\ **注意：**\ 在C#中，引用不再使用后不会立即释放。相反，垃圾收集将定期运行并释放不再使用的引用。这意味着未使用的引用会在被删除之前停留一段时间。

教程
----

- :doc:`When and how to avoid using nodes for everything <../tutorials/best_practices/node_alternatives>`

方法
----

+-------------------------+--------------------------------------------------------------------+
| :ref:`bool<class_bool>` | :ref:`init_ref<class_Reference_method_init_ref>` **(** **)**       |
+-------------------------+--------------------------------------------------------------------+
| :ref:`bool<class_bool>` | :ref:`reference<class_Reference_method_reference>` **(** **)**     |
+-------------------------+--------------------------------------------------------------------+
| :ref:`bool<class_bool>` | :ref:`unreference<class_Reference_method_unreference>` **(** **)** |
+-------------------------+--------------------------------------------------------------------+

方法说明
--------

.. _class_Reference_method_init_ref:

- :ref:`bool<class_bool>` **init_ref** **(** **)**

初始化内部引用计数器。只有在你真的知道你在做什么的时候才使用这个。

返回初始化是否成功。

----

.. _class_Reference_method_reference:

- :ref:`bool<class_bool>` **reference** **(** **)**

内部引用增量计数器。只有在你真的知道你在做什么的时候才使用这个。

如果增量成功，返回\ ``true``\ ，否则返回\ ``false``\ 。

----

.. _class_Reference_method_unreference:

- :ref:`bool<class_bool>` **unreference** **(** **)**

内部引用减量计数器。只有在你真的知道你在做什么的时候才使用这个。

如果减量成功，返回\ ``true``\ ，否则返回\ ``false``\ 。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
