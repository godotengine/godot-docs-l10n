:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the AudioStreamGenerator.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_AudioStreamGenerator:

AudioStreamGenerator
====================

**Inherits:** :ref:`AudioStream<class_AudioStream>` **<** :ref:`Resource<class_Resource>` **<** :ref:`Reference<class_Reference>` **<** :ref:`Object<class_Object>`

使用程序生成声音的音频流。

描述
----

此音频流不播放声音，需要脚本为其生成音频数据。参阅\ :ref:`AudioStreamGeneratorPlayback<class_AudioStreamGeneratorPlayback>`\ 。

另请参阅 :ref:`AudioEffectSpectrumAnalyzer<class_AudioEffectSpectrumAnalyzer>` 用于执行实时音频频谱分析。

\ **注意：** 由于性能限制，最好从 C# 或通过 GDNative 编译的语言中使用此类。如果你仍然想从GDScript中使用这个类，请考虑使用较低的 :ref:`mix_rate<class_AudioStreamGenerator_property_mix_rate>`\ ，例如 11,025 Hz 或 22,050 Hz。

教程
----

- `Audio Generator Demo <https://godotengine.org/asset-library/asset/526>`__

- `https://godotengine.org/article/godot-32-will-get-new-audio-features <Godot 3.2 will get new audio features>`__

属性
----

+---------------------------+-------------------------------------------------------------------------+-------------+
| :ref:`float<class_float>` | :ref:`buffer_length<class_AudioStreamGenerator_property_buffer_length>` | ``0.5``     |
+---------------------------+-------------------------------------------------------------------------+-------------+
| :ref:`float<class_float>` | :ref:`mix_rate<class_AudioStreamGenerator_property_mix_rate>`           | ``44100.0`` |
+---------------------------+-------------------------------------------------------------------------+-------------+

属性说明
--------

.. _class_AudioStreamGenerator_property_buffer_length:

- :ref:`float<class_float>` **buffer_length**

+-----------+--------------------------+
| *Default* | ``0.5``                  |
+-----------+--------------------------+
| *Setter*  | set_buffer_length(value) |
+-----------+--------------------------+
| *Getter*  | get_buffer_length()      |
+-----------+--------------------------+

要生成的缓冲区的长度，以秒为单位。较低的值会带来更少的延迟，但需要脚本更快地生成音频数据，从而导致 CPU 使用率增加，如果 CPU 跟不上，则音频破裂的风险更大。

----

.. _class_AudioStreamGenerator_property_mix_rate:

- :ref:`float<class_float>` **mix_rate**

+-----------+---------------------+
| *Default* | ``44100.0``         |
+-----------+---------------------+
| *Setter*  | set_mix_rate(value) |
+-----------+---------------------+
| *Getter*  | get_mix_rate()      |
+-----------+---------------------+

使用的采样率（单位：Hz）。更高的值对CPU要求更高，但会带来更好的质量。

在游戏中，常用的采样率有\ ``11025``\ 、\ ``16000``\ 、\ ``22050``\ 、\ ``32000``\ 、\ ``44100``\ 和\ ``48000``\ 。

根据\ `Nyquist-Shannon采样定理 <https://en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem>`__\ ，当超过40000赫兹时，人类的听觉没有质量上的差别（因为大多数人只能听到~20000赫兹，往往更少）。如果你要生成较低音调的声音，例如语音，则可以使用较低的采样率，例如 ``32000`` 或 ``22050``\ ，而不会降低质量。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
