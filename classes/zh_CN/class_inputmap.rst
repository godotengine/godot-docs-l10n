:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the InputMap.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_InputMap:

InputMap
========

**Inherits:** :ref:`Object<class_Object>`

管理 :ref:`InputEventAction<class_InputEventAction>` 的单例。

描述
----

管理所有的 :ref:`InputEventAction<class_InputEventAction>`\ ，可以通过项目设置菜单\ **项目 > 项目设置 > 键位映射**\ 或在代码中用 :ref:`add_action<class_InputMap_method_add_action>` 和 :ref:`action_add_event<class_InputMap_method_action_add_event>` 创建/修改。请参阅 :ref:`Node._input<class_Node_method__input>`\ 。

教程
----

- `#inputmap <../tutorials/inputs/inputevent.html#inputmap>`__ in :doc:`../tutorials/inputs/inputevent`

方法
----

+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`action_add_event<class_InputMap_method_action_add_event>` **(** :ref:`String<class_String>` action, :ref:`InputEvent<class_InputEvent>` event **)**                                                  |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`action_erase_event<class_InputMap_method_action_erase_event>` **(** :ref:`String<class_String>` action, :ref:`InputEvent<class_InputEvent>` event **)**                                              |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`action_erase_events<class_InputMap_method_action_erase_events>` **(** :ref:`String<class_String>` action **)**                                                                                       |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>` | :ref:`action_get_deadzone<class_InputMap_method_action_get_deadzone>` **(** :ref:`String<class_String>` action **)**                                                                                       |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`   | :ref:`action_has_event<class_InputMap_method_action_has_event>` **(** :ref:`String<class_String>` action, :ref:`InputEvent<class_InputEvent>` event **)**                                                  |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`action_set_deadzone<class_InputMap_method_action_set_deadzone>` **(** :ref:`String<class_String>` action, :ref:`float<class_float>` deadzone **)**                                                   |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`add_action<class_InputMap_method_add_action>` **(** :ref:`String<class_String>` action, :ref:`float<class_float>` deadzone=0.5 **)**                                                                 |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`erase_action<class_InputMap_method_erase_action>` **(** :ref:`String<class_String>` action **)**                                                                                                     |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`   | :ref:`event_is_action<class_InputMap_method_event_is_action>` **(** :ref:`InputEvent<class_InputEvent>` event, :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const| |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Array<class_Array>` | :ref:`get_action_list<class_InputMap_method_get_action_list>` **(** :ref:`String<class_String>` action **)**                                                                                               |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Array<class_Array>` | :ref:`get_actions<class_InputMap_method_get_actions>` **(** **)**                                                                                                                                          |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`   | :ref:`has_action<class_InputMap_method_has_action>` **(** :ref:`String<class_String>` action **)** |const|                                                                                                 |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                      | :ref:`load_from_globals<class_InputMap_method_load_from_globals>` **(** **)**                                                                                                                              |
+---------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

方法说明
--------

.. _class_InputMap_method_action_add_event:

- void **action_add_event** **(** :ref:`String<class_String>` action, :ref:`InputEvent<class_InputEvent>` event **)**

给一个动作添加一个\ :ref:`InputEvent<class_InputEvent>`\ 。这个\ :ref:`InputEvent<class_InputEvent>`\ 将触发这个动作。

----

.. _class_InputMap_method_action_erase_event:

- void **action_erase_event** **(** :ref:`String<class_String>` action, :ref:`InputEvent<class_InputEvent>` event **)**

从一个动作中删除一个\ :ref:`InputEvent<class_InputEvent>`\ 。

----

.. _class_InputMap_method_action_erase_events:

- void **action_erase_events** **(** :ref:`String<class_String>` action **)**

从动作中删除所有事件。

----

.. _class_InputMap_method_action_get_deadzone:

- :ref:`float<class_float>` **action_get_deadzone** **(** :ref:`String<class_String>` action **)**

返回该操作的死区值。

----

.. _class_InputMap_method_action_has_event:

- :ref:`bool<class_bool>` **action_has_event** **(** :ref:`String<class_String>` action, :ref:`InputEvent<class_InputEvent>` event **)**

如果该动作有给定的\ :ref:`InputEvent<class_InputEvent>`\ 与之相关，则返回\ ``true``\ 。

----

.. _class_InputMap_method_action_set_deadzone:

- void **action_set_deadzone** **(** :ref:`String<class_String>` action, :ref:`float<class_float>` deadzone **)**

为该动作设置死区值。

----

.. _class_InputMap_method_add_action:

- void **add_action** **(** :ref:`String<class_String>` action, :ref:`float<class_float>` deadzone=0.5 **)**

在\ ``InputMap``\ 上添加一个空的动作，有一个可配置的死区\ ``deadzone``\ 。

然后可以用\ :ref:`action_add_event<class_InputMap_method_action_add_event>`\ 给这个动作添加一个\ :ref:`InputEvent<class_InputEvent>`\ 。

----

.. _class_InputMap_method_erase_action:

- void **erase_action** **(** :ref:`String<class_String>` action **)**

从\ ``InputMap``\ 中删除一个动作。

----

.. _class_InputMap_method_event_is_action:

- :ref:`bool<class_bool>` **event_is_action** **(** :ref:`InputEvent<class_InputEvent>` event, :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|

如果给定的事件是现有动作的一部分，返回\ ``true``\ 。如果给定的\ :ref:`InputEvent<class_InputEvent>`\ 没有被按下，这个方法会忽略键盘（为了正确地检测释放）。如果你不想要这种行为，请参阅\ :ref:`action_has_event<class_InputMap_method_action_has_event>`\ 。

如果\ ``exact_match``\ 是\ ``false``\ ，它会忽略\ :ref:`InputEventKey<class_InputEventKey>`\ 和\ :ref:`InputEventMouseButton<class_InputEventMouseButton>`\ 事件的输入修饰符，以及\ :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`\ 事件的方向。

----

.. _class_InputMap_method_get_action_list:

- :ref:`Array<class_Array>` **get_action_list** **(** :ref:`String<class_String>` action **)**

返回与给定操作关联的 :ref:`InputEvent<class_InputEvent>` 数组。

----

.. _class_InputMap_method_get_actions:

- :ref:`Array<class_Array>` **get_actions** **(** **)**

返回\ ``InputMap``\ 中所有动作的数组。

----

.. _class_InputMap_method_has_action:

- :ref:`bool<class_bool>` **has_action** **(** :ref:`String<class_String>` action **)** |const|

如果\ ``InputMap``\ 有一个给定名称的注册动作，返回\ ``true``\ 。

----

.. _class_InputMap_method_load_from_globals:

- void **load_from_globals** **(** **)**

清除\ ``InputMap``\ 中的所有\ :ref:`InputEventAction<class_InputEventAction>`\ ，并从\ :ref:`ProjectSettings<class_ProjectSettings>`\ 项目设置中重新加载它。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
