:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the AnimationTreePlayer.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_AnimationTreePlayer:

AnimationTreePlayer
===================

**Inherits:** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

*已弃用。* 使用节点图(node graph)来混合动画的动画播放器。由 :ref:`AnimationTree<class_AnimationTree>` 取代。

描述
----

*已弃用。* 节点图示工具，用于混合绑定在\ :ref:`AnimationPlayer<class_AnimationPlayer>`\ 上的多个动画。对于给角色或其他基于骨架的配件制作动画特别有用。它可以结合几个动画来形成一个所需的姿势。

它从\ :ref:`AnimationPlayer<class_AnimationPlayer>`\ 节点获取\ :ref:`Animation<class_Animation>`\ ，并根据图示将它们混合起来。

参阅\ :ref:`AnimationTree<class_AnimationTree>`\ 以获得该节点的更全面的功能替代。

教程
----

- :doc:`../tutorials/animation/animation_tree`

属性
----

+----------------------------------------------------------------------------+----------------------------------------------------------------------------------------+--------------------+
| :ref:`bool<class_bool>`                                                    | :ref:`active<class_AnimationTreePlayer_property_active>`                               | ``false``          |
+----------------------------------------------------------------------------+----------------------------------------------------------------------------------------+--------------------+
| :ref:`NodePath<class_NodePath>`                                            | :ref:`base_path<class_AnimationTreePlayer_property_base_path>`                         | ``NodePath("..")`` |
+----------------------------------------------------------------------------+----------------------------------------------------------------------------------------+--------------------+
| :ref:`NodePath<class_NodePath>`                                            | :ref:`master_player<class_AnimationTreePlayer_property_master_player>`                 | ``NodePath("")``   |
+----------------------------------------------------------------------------+----------------------------------------------------------------------------------------+--------------------+
| :ref:`AnimationProcessMode<enum_AnimationTreePlayer_AnimationProcessMode>` | :ref:`playback_process_mode<class_AnimationTreePlayer_property_playback_process_mode>` | ``1``              |
+----------------------------------------------------------------------------+----------------------------------------------------------------------------------------+--------------------+

方法
----

+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`add_node<class_AnimationTreePlayer_method_add_node>` **(** :ref:`NodeType<enum_AnimationTreePlayer_NodeType>` type, :ref:`String<class_String>` id **)**                                                                     |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`advance<class_AnimationTreePlayer_method_advance>` **(** :ref:`float<class_float>` delta **)**                                                                                                                               |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Animation<class_Animation>`                  | :ref:`animation_node_get_animation<class_AnimationTreePlayer_method_animation_node_get_animation>` **(** :ref:`String<class_String>` id **)** |const|                                                                              |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                        | :ref:`animation_node_get_master_animation<class_AnimationTreePlayer_method_animation_node_get_master_animation>` **(** :ref:`String<class_String>` id **)** |const|                                                                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`animation_node_get_position<class_AnimationTreePlayer_method_animation_node_get_position>` **(** :ref:`String<class_String>` id **)** |const|                                                                                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`animation_node_set_animation<class_AnimationTreePlayer_method_animation_node_set_animation>` **(** :ref:`String<class_String>` id, :ref:`Animation<class_Animation>` animation **)**                                         |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`animation_node_set_filter_path<class_AnimationTreePlayer_method_animation_node_set_filter_path>` **(** :ref:`String<class_String>` id, :ref:`NodePath<class_NodePath>` path, :ref:`bool<class_bool>` enable **)**            |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`animation_node_set_master_animation<class_AnimationTreePlayer_method_animation_node_set_master_animation>` **(** :ref:`String<class_String>` id, :ref:`String<class_String>` source **)**                                    |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                            | :ref:`are_nodes_connected<class_AnimationTreePlayer_method_are_nodes_connected>` **(** :ref:`String<class_String>` id, :ref:`String<class_String>` dst_id, :ref:`int<class_int>` dst_input_idx **)** |const|                       |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`blend2_node_get_amount<class_AnimationTreePlayer_method_blend2_node_get_amount>` **(** :ref:`String<class_String>` id **)** |const|                                                                                          |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`blend2_node_set_amount<class_AnimationTreePlayer_method_blend2_node_set_amount>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` blend **)**                                                                 |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`blend2_node_set_filter_path<class_AnimationTreePlayer_method_blend2_node_set_filter_path>` **(** :ref:`String<class_String>` id, :ref:`NodePath<class_NodePath>` path, :ref:`bool<class_bool>` enable **)**                  |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`blend3_node_get_amount<class_AnimationTreePlayer_method_blend3_node_get_amount>` **(** :ref:`String<class_String>` id **)** |const|                                                                                          |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`blend3_node_set_amount<class_AnimationTreePlayer_method_blend3_node_set_amount>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` blend **)**                                                                 |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Vector2<class_Vector2>`                      | :ref:`blend4_node_get_amount<class_AnimationTreePlayer_method_blend4_node_get_amount>` **(** :ref:`String<class_String>` id **)** |const|                                                                                          |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`blend4_node_set_amount<class_AnimationTreePlayer_method_blend4_node_set_amount>` **(** :ref:`String<class_String>` id, :ref:`Vector2<class_Vector2>` blend **)**                                                             |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>`              | :ref:`connect_nodes<class_AnimationTreePlayer_method_connect_nodes>` **(** :ref:`String<class_String>` id, :ref:`String<class_String>` dst_id, :ref:`int<class_int>` dst_input_idx **)**                                           |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`disconnect_nodes<class_AnimationTreePlayer_method_disconnect_nodes>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` dst_input_idx **)**                                                                         |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PoolStringArray<class_PoolStringArray>`      | :ref:`get_node_list<class_AnimationTreePlayer_method_get_node_list>` **(** **)**                                                                                                                                                   |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`mix_node_get_amount<class_AnimationTreePlayer_method_mix_node_get_amount>` **(** :ref:`String<class_String>` id **)** |const|                                                                                                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`mix_node_set_amount<class_AnimationTreePlayer_method_mix_node_set_amount>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` ratio **)**                                                                       |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                            | :ref:`node_exists<class_AnimationTreePlayer_method_node_exists>` **(** :ref:`String<class_String>` node **)** |const|                                                                                                              |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                              | :ref:`node_get_input_count<class_AnimationTreePlayer_method_node_get_input_count>` **(** :ref:`String<class_String>` id **)** |const|                                                                                              |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                        | :ref:`node_get_input_source<class_AnimationTreePlayer_method_node_get_input_source>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` idx **)** |const|                                                                 |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Vector2<class_Vector2>`                      | :ref:`node_get_position<class_AnimationTreePlayer_method_node_get_position>` **(** :ref:`String<class_String>` id **)** |const|                                                                                                    |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`NodeType<enum_AnimationTreePlayer_NodeType>` | :ref:`node_get_type<class_AnimationTreePlayer_method_node_get_type>` **(** :ref:`String<class_String>` id **)** |const|                                                                                                            |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>`              | :ref:`node_rename<class_AnimationTreePlayer_method_node_rename>` **(** :ref:`String<class_String>` node, :ref:`String<class_String>` new_name **)**                                                                                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`node_set_position<class_AnimationTreePlayer_method_node_set_position>` **(** :ref:`String<class_String>` id, :ref:`Vector2<class_Vector2>` screen_position **)**                                                             |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`oneshot_node_get_autorestart_delay<class_AnimationTreePlayer_method_oneshot_node_get_autorestart_delay>` **(** :ref:`String<class_String>` id **)** |const|                                                                  |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`oneshot_node_get_autorestart_random_delay<class_AnimationTreePlayer_method_oneshot_node_get_autorestart_random_delay>` **(** :ref:`String<class_String>` id **)** |const|                                                    |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`oneshot_node_get_fadein_time<class_AnimationTreePlayer_method_oneshot_node_get_fadein_time>` **(** :ref:`String<class_String>` id **)** |const|                                                                              |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`oneshot_node_get_fadeout_time<class_AnimationTreePlayer_method_oneshot_node_get_fadeout_time>` **(** :ref:`String<class_String>` id **)** |const|                                                                            |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                            | :ref:`oneshot_node_has_autorestart<class_AnimationTreePlayer_method_oneshot_node_has_autorestart>` **(** :ref:`String<class_String>` id **)** |const|                                                                              |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                            | :ref:`oneshot_node_is_active<class_AnimationTreePlayer_method_oneshot_node_is_active>` **(** :ref:`String<class_String>` id **)** |const|                                                                                          |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_set_autorestart<class_AnimationTreePlayer_method_oneshot_node_set_autorestart>` **(** :ref:`String<class_String>` id, :ref:`bool<class_bool>` enable **)**                                                      |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_set_autorestart_delay<class_AnimationTreePlayer_method_oneshot_node_set_autorestart_delay>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` delay_sec **)**                                     |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_set_autorestart_random_delay<class_AnimationTreePlayer_method_oneshot_node_set_autorestart_random_delay>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` rand_sec **)**                        |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_set_fadein_time<class_AnimationTreePlayer_method_oneshot_node_set_fadein_time>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` time_sec **)**                                                  |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_set_fadeout_time<class_AnimationTreePlayer_method_oneshot_node_set_fadeout_time>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` time_sec **)**                                                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_set_filter_path<class_AnimationTreePlayer_method_oneshot_node_set_filter_path>` **(** :ref:`String<class_String>` id, :ref:`NodePath<class_NodePath>` path, :ref:`bool<class_bool>` enable **)**                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_start<class_AnimationTreePlayer_method_oneshot_node_start>` **(** :ref:`String<class_String>` id **)**                                                                                                          |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`oneshot_node_stop<class_AnimationTreePlayer_method_oneshot_node_stop>` **(** :ref:`String<class_String>` id **)**                                                                                                            |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`recompute_caches<class_AnimationTreePlayer_method_recompute_caches>` **(** **)**                                                                                                                                             |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`remove_node<class_AnimationTreePlayer_method_remove_node>` **(** :ref:`String<class_String>` id **)**                                                                                                                        |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`reset<class_AnimationTreePlayer_method_reset>` **(** **)**                                                                                                                                                                   |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`timescale_node_get_scale<class_AnimationTreePlayer_method_timescale_node_get_scale>` **(** :ref:`String<class_String>` id **)** |const|                                                                                      |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`timescale_node_set_scale<class_AnimationTreePlayer_method_timescale_node_set_scale>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` scale **)**                                                             |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`timeseek_node_seek<class_AnimationTreePlayer_method_timeseek_node_seek>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` seconds **)**                                                                       |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`transition_node_delete_input<class_AnimationTreePlayer_method_transition_node_delete_input>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx **)**                                                     |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                              | :ref:`transition_node_get_current<class_AnimationTreePlayer_method_transition_node_get_current>` **(** :ref:`String<class_String>` id **)** |const|                                                                                |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                              | :ref:`transition_node_get_input_count<class_AnimationTreePlayer_method_transition_node_get_input_count>` **(** :ref:`String<class_String>` id **)** |const|                                                                        |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                          | :ref:`transition_node_get_xfade_time<class_AnimationTreePlayer_method_transition_node_get_xfade_time>` **(** :ref:`String<class_String>` id **)** |const|                                                                          |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`                            | :ref:`transition_node_has_input_auto_advance<class_AnimationTreePlayer_method_transition_node_has_input_auto_advance>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx **)** |const|                         |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`transition_node_set_current<class_AnimationTreePlayer_method_transition_node_set_current>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx **)**                                                       |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`transition_node_set_input_auto_advance<class_AnimationTreePlayer_method_transition_node_set_input_auto_advance>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx, :ref:`bool<class_bool>` enable **)** |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`transition_node_set_input_count<class_AnimationTreePlayer_method_transition_node_set_input_count>` **(** :ref:`String<class_String>` id, :ref:`int<class_int>` count **)**                                                   |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                               | :ref:`transition_node_set_xfade_time<class_AnimationTreePlayer_method_transition_node_set_xfade_time>` **(** :ref:`String<class_String>` id, :ref:`float<class_float>` time_sec **)**                                              |
+----------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

枚举
----

.. _enum_AnimationTreePlayer_NodeType:

.. _class_AnimationTreePlayer_constant_NODE_OUTPUT:

.. _class_AnimationTreePlayer_constant_NODE_ANIMATION:

.. _class_AnimationTreePlayer_constant_NODE_ONESHOT:

.. _class_AnimationTreePlayer_constant_NODE_MIX:

.. _class_AnimationTreePlayer_constant_NODE_BLEND2:

.. _class_AnimationTreePlayer_constant_NODE_BLEND3:

.. _class_AnimationTreePlayer_constant_NODE_BLEND4:

.. _class_AnimationTreePlayer_constant_NODE_TIMESCALE:

.. _class_AnimationTreePlayer_constant_NODE_TIMESEEK:

.. _class_AnimationTreePlayer_constant_NODE_TRANSITION:

enum **NodeType**:

- **NODE_OUTPUT** = **0** --- 输出节点。

- **NODE_ANIMATION** = **1** --- Animation节点。

- **NODE_ONESHOT** = **2** --- OneShot节点。

- **NODE_MIX** = **3** --- Mix 节点。

- **NODE_BLEND2** = **4** --- Blend2节点。

- **NODE_BLEND3** = **5** --- Blend3节点。

- **NODE_BLEND4** = **6** --- Blend4节点。

- **NODE_TIMESCALE** = **7** --- TimeScale节点。

- **NODE_TIMESEEK** = **8** --- TimeSeek节点。

- **NODE_TRANSITION** = **9** --- Transition节点。

----

.. _enum_AnimationTreePlayer_AnimationProcessMode:

.. _class_AnimationTreePlayer_constant_ANIMATION_PROCESS_PHYSICS:

.. _class_AnimationTreePlayer_constant_ANIMATION_PROCESS_IDLE:

enum **AnimationProcessMode**:

- **ANIMATION_PROCESS_PHYSICS** = **0** --- 在物理过程中处理动画。在为物理物体设置动画时，这特别有用。

- **ANIMATION_PROCESS_IDLE** = **1** --- 在空闲过程中处理动画。

属性说明
--------

.. _class_AnimationTreePlayer_property_active:

- :ref:`bool<class_bool>` **active**

+-----------+-------------------+
| *Default* | ``false``         |
+-----------+-------------------+
| *Setter*  | set_active(value) |
+-----------+-------------------+
| *Getter*  | is_active()       |
+-----------+-------------------+

如果\ ``true``\ ，\ ``AnimationTreePlayer``\ 就能够播放动画。

----

.. _class_AnimationTreePlayer_property_base_path:

- :ref:`NodePath<class_NodePath>` **base_path**

+-----------+----------------------+
| *Default* | ``NodePath("..")``   |
+-----------+----------------------+
| *Setter*  | set_base_path(value) |
+-----------+----------------------+
| *Getter*  | get_base_path()      |
+-----------+----------------------+

相对访问其他节点的节点。

它访问骨骼，应该指向\ :ref:`AnimationPlayer<class_AnimationPlayer>`\ 将指向其根节点的同一个节点。

----

.. _class_AnimationTreePlayer_property_master_player:

- :ref:`NodePath<class_NodePath>` **master_player**

+-----------+--------------------------+
| *Default* | ``NodePath("")``         |
+-----------+--------------------------+
| *Setter*  | set_master_player(value) |
+-----------+--------------------------+
| *Getter*  | get_master_player()      |
+-----------+--------------------------+

通过 :ref:`AnimationPlayer<class_AnimationPlayer>` 的路径，此 ``AnimationTreePlayer`` 将动画绑定到动画节点。

设置后，\ :ref:`Animation<class_Animation>`\ 节点可以添加到\ :ref:`AnimationPlayer<class_AnimationPlayer>`\ 。

----

.. _class_AnimationTreePlayer_property_playback_process_mode:

- :ref:`AnimationProcessMode<enum_AnimationTreePlayer_AnimationProcessMode>` **playback_process_mode**

+-----------+-----------------------------------+
| *Default* | ``1``                             |
+-----------+-----------------------------------+
| *Setter*  | set_animation_process_mode(value) |
+-----------+-----------------------------------+
| *Getter*  | get_animation_process_mode()      |
+-----------+-----------------------------------+

更新动画的线程。

方法说明
--------

.. _class_AnimationTreePlayer_method_add_node:

- void **add_node** **(** :ref:`NodeType<enum_AnimationTreePlayer_NodeType>` type, :ref:`String<class_String>` id **)**

添加\ ``type``\ 节点到图示中，名称为\ ``id``\ 。

----

.. _class_AnimationTreePlayer_method_advance:

- void **advance** **(** :ref:`float<class_float>` delta **)**

移动动画时间轴上的位置。\ ``delta``\ 是移动的时间，单位是秒。当前帧和\ ``delta``\ 之间的事件被处理。

----

.. _class_AnimationTreePlayer_method_animation_node_get_animation:

- :ref:`Animation<class_Animation>` **animation_node_get_animation** **(** :ref:`String<class_String>` id **)** |const|

返回与\ ``AnimationTreePlayer``\ 的动画节点绑定的\ :ref:`Animation<class_Animation>`\ ，名称为\ ``id``\ 。

----

.. _class_AnimationTreePlayer_method_animation_node_get_master_animation:

- :ref:`String<class_String>` **animation_node_get_master_animation** **(** :ref:`String<class_String>` id **)** |const|

返回与此动画节点绑定的\ :ref:`master_player<class_AnimationTreePlayer_property_master_player>`\ 的\ :ref:`Animation<class_Animation>`\ 名称。

----

.. _class_AnimationTreePlayer_method_animation_node_get_position:

- :ref:`float<class_float>` **animation_node_get_position** **(** :ref:`String<class_String>` id **)** |const|

返回名称为\ ``id``\ 的动画节点的绝对播放时间戳。

----

.. _class_AnimationTreePlayer_method_animation_node_set_animation:

- void **animation_node_set_animation** **(** :ref:`String<class_String>` id, :ref:`Animation<class_Animation>` animation **)**

将名称为\ ``id``\ 的新\ :ref:`Animation<class_Animation>`\ 从\ :ref:`master_player<class_AnimationTreePlayer_property_master_player>`\ 绑定到\ ``AnimationTreePlayer``\ 的动画节点。

----

.. _class_AnimationTreePlayer_method_animation_node_set_filter_path:

- void **animation_node_set_filter_path** **(** :ref:`String<class_String>` id, :ref:`NodePath<class_NodePath>` path, :ref:`bool<class_bool>` enable **)**

如果\ ``enable``\ 为\ ``true``\ ，则ID为\ ``id``\ 的动画节点将关闭修改\ ``path``\ 属性的轨道。修改后的节点的子代继续进行动画处理。

----

.. _class_AnimationTreePlayer_method_animation_node_set_master_animation:

- void **animation_node_set_master_animation** **(** :ref:`String<class_String>` id, :ref:`String<class_String>` source **)**

将\ :ref:`master_player<class_AnimationTreePlayer_property_master_player>`\ 中名为\ ``source``\ 的\ :ref:`Animation<class_Animation>`\ 绑定到动画节点\ ``id``\ 。重新计算缓存。

----

.. _class_AnimationTreePlayer_method_are_nodes_connected:

- :ref:`bool<class_bool>` **are_nodes_connected** **(** :ref:`String<class_String>` id, :ref:`String<class_String>` dst_id, :ref:`int<class_int>` dst_input_idx **)** |const|

返回节点\ ``id``\ 和\ ``dst_id``\ 是否在指定的插槽上连接。

----

.. _class_AnimationTreePlayer_method_blend2_node_get_amount:

- :ref:`float<class_float>` **blend2_node_get_amount** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的 Blend2 节点的混合量。

----

.. _class_AnimationTreePlayer_method_blend2_node_set_amount:

- void **blend2_node_set_amount** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` blend **)**

设置Blend2节点的混合量，给定其名称和值。

一个Blend2节点混合两个动画（A和B），混合量在0到1之间。

在0的时候，输出是输入A。接近1的时候，A的影响变小，B的影响变大。在1时，输出是输入B。

----

.. _class_AnimationTreePlayer_method_blend2_node_set_filter_path:

- void **blend2_node_set_filter_path** **(** :ref:`String<class_String>` id, :ref:`NodePath<class_NodePath>` path, :ref:`bool<class_bool>` enable **)**

如果\ ``enable``\ 是\ ``true``\ ，名称为\ ``id``\ 的Blend2节点会关闭修改\ ``path``\ 处属性的轨道。被修改的节点的子节点继续处理动画。

----

.. _class_AnimationTreePlayer_method_blend3_node_get_amount:

- :ref:`float<class_float>` **blend3_node_get_amount** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的 Blend3 节点的混合量。

----

.. _class_AnimationTreePlayer_method_blend3_node_set_amount:

- void **blend3_node_set_amount** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` blend **)**

设置一个Blend3节点的混合值，传入节点名和混合值。

Blend3节点使用-1~1之间的一个值来混合3个动画 (A, B-, B+).

值为-1时，输出动画为B-；值从-1到0时，B-的影响减弱，A的影响变强，B+的影响为0；值为0时，输出为动画A；值从0到1时，A的影响减弱，B+的影响变强，B-的影响为0；值为1时，输出为动画B+。

----

.. _class_AnimationTreePlayer_method_blend4_node_get_amount:

- :ref:`Vector2<class_Vector2>` **blend4_node_get_amount** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的Blend4节点的混合量。

----

.. _class_AnimationTreePlayer_method_blend4_node_set_amount:

- void **blend4_node_set_amount** **(** :ref:`String<class_String>` id, :ref:`Vector2<class_Vector2>` blend **)**

设置Blend4节点的混合量，给定其名称和值。

Blend4节点可以混合两对动画。

这两对动画像Blend2一样被混合，然后相加在一起。

----

.. _class_AnimationTreePlayer_method_connect_nodes:

- :ref:`Error<enum_@GlobalScope_Error>` **connect_nodes** **(** :ref:`String<class_String>` id, :ref:`String<class_String>` dst_id, :ref:`int<class_int>` dst_input_idx **)**

将节点\ ``id``\ 连接到指定输入插槽的\ ``dst_id``\ 。

----

.. _class_AnimationTreePlayer_method_disconnect_nodes:

- void **disconnect_nodes** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` dst_input_idx **)**

断开在指定输入插槽连接到\ ``id``\ 的节点。

----

.. _class_AnimationTreePlayer_method_get_node_list:

- :ref:`PoolStringArray<class_PoolStringArray>` **get_node_list** **(** **)**

返回包含所有节点名称的\ :ref:`PoolStringArray<class_PoolStringArray>`\ 。

----

.. _class_AnimationTreePlayer_method_mix_node_get_amount:

- :ref:`float<class_float>` **mix_node_get_amount** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的Mix节点的混合量。

----

.. _class_AnimationTreePlayer_method_mix_node_set_amount:

- void **mix_node_set_amount** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` ratio **)**

设置混合节点的混合量，给定它的名称和值。

混合节点将输入b添加到输入a中，其量由比率给出。

----

.. _class_AnimationTreePlayer_method_node_exists:

- :ref:`bool<class_bool>` **node_exists** **(** :ref:`String<class_String>` node **)** |const|

按名称检查节点是否存在。

----

.. _class_AnimationTreePlayer_method_node_get_input_count:

- :ref:`int<class_int>` **node_get_input_count** **(** :ref:`String<class_String>` id **)** |const|

返回给定节点的输入计数。不同类型的节点有不同的输入数量。

----

.. _class_AnimationTreePlayer_method_node_get_input_source:

- :ref:`String<class_String>` **node_get_input_source** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` idx **)** |const|

返回给定节点输入的输入源。

----

.. _class_AnimationTreePlayer_method_node_get_position:

- :ref:`Vector2<class_Vector2>` **node_get_position** **(** :ref:`String<class_String>` id **)** |const|

返回给定其名称节点在图示中的位置。

----

.. _class_AnimationTreePlayer_method_node_get_type:

- :ref:`NodeType<enum_AnimationTreePlayer_NodeType>` **node_get_type** **(** :ref:`String<class_String>` id **)** |const|

获取节点类型，将从\ :ref:`NodeType<enum_AnimationTreePlayer_NodeType>`\ 枚举中返回。

----

.. _class_AnimationTreePlayer_method_node_rename:

- :ref:`Error<enum_@GlobalScope_Error>` **node_rename** **(** :ref:`String<class_String>` node, :ref:`String<class_String>` new_name **)**

重命名图示中的一个节点。

----

.. _class_AnimationTreePlayer_method_node_set_position:

- void **node_set_position** **(** :ref:`String<class_String>` id, :ref:`Vector2<class_Vector2>` screen_position **)**

设置节点在图示中的位置，给定其名称和位置。

----

.. _class_AnimationTreePlayer_method_oneshot_node_get_autorestart_delay:

- :ref:`float<class_float>` **oneshot_node_get_autorestart_delay** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的OneShot节点的自动启动延迟。

----

.. _class_AnimationTreePlayer_method_oneshot_node_get_autorestart_random_delay:

- :ref:`float<class_float>` **oneshot_node_get_autorestart_random_delay** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的OneShot节点的自动启动随机延迟。

----

.. _class_AnimationTreePlayer_method_oneshot_node_get_fadein_time:

- :ref:`float<class_float>` **oneshot_node_get_fadein_time** **(** :ref:`String<class_String>` id **)** |const|

返回给定名称的OneShot节点的淡入时间。

----

.. _class_AnimationTreePlayer_method_oneshot_node_get_fadeout_time:

- :ref:`float<class_float>` **oneshot_node_get_fadeout_time** **(** :ref:`String<class_String>` id **)** |const|

返回给定其名称的OneShot节点的淡出时间。

----

.. _class_AnimationTreePlayer_method_oneshot_node_has_autorestart:

- :ref:`bool<class_bool>` **oneshot_node_has_autorestart** **(** :ref:`String<class_String>` id **)** |const|

返回OneShot节点是否会根据其名称自动重新启动。

----

.. _class_AnimationTreePlayer_method_oneshot_node_is_active:

- :ref:`bool<class_bool>` **oneshot_node_is_active** **(** :ref:`String<class_String>` id **)** |const|

返回指定名称的OneShot节点是否处于活动状态。

----

.. _class_AnimationTreePlayer_method_oneshot_node_set_autorestart:

- void **oneshot_node_set_autorestart** **(** :ref:`String<class_String>` id, :ref:`bool<class_bool>` enable **)**

设置OneShot节点的自动启动属性，给定其名称和值。

----

.. _class_AnimationTreePlayer_method_oneshot_node_set_autorestart_delay:

- void **oneshot_node_set_autorestart_delay** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` delay_sec **)**

设置OneShot节点的自动启动延迟，给定其名称和值，单位秒。

----

.. _class_AnimationTreePlayer_method_oneshot_node_set_autorestart_random_delay:

- void **oneshot_node_set_autorestart_random_delay** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` rand_sec **)**

设置OneShot节点的自动重启随机延迟，给定其名称和数值，单位秒。

----

.. _class_AnimationTreePlayer_method_oneshot_node_set_fadein_time:

- void **oneshot_node_set_fadein_time** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` time_sec **)**

设置OneShot节点的淡入时间，给定其名称和数值，单位秒。

----

.. _class_AnimationTreePlayer_method_oneshot_node_set_fadeout_time:

- void **oneshot_node_set_fadeout_time** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` time_sec **)**

设置OneShot节点的淡出时间，给定其名称和数值，单位秒。

----

.. _class_AnimationTreePlayer_method_oneshot_node_set_filter_path:

- void **oneshot_node_set_filter_path** **(** :ref:`String<class_String>` id, :ref:`NodePath<class_NodePath>` path, :ref:`bool<class_bool>` enable **)**

如果\ ``enable``\ 是\ ``true``\ ，ID为\ ``id``\ 的OneShot节点会关闭修改\ ``path``\ 处属性的轨道。被修改的节点的子节点继续进行动画。

----

.. _class_AnimationTreePlayer_method_oneshot_node_start:

- void **oneshot_node_start** **(** :ref:`String<class_String>` id **)**

启动指定名称的OneShot节点。

----

.. _class_AnimationTreePlayer_method_oneshot_node_stop:

- void **oneshot_node_stop** **(** :ref:`String<class_String>` id **)**

停止名称为\ ``id``\ 的OneShot节点。

----

.. _class_AnimationTreePlayer_method_recompute_caches:

- void **recompute_caches** **(** **)**

手动重新计算由动画节点生成的轨道信息缓存。当外部资源修改动画节点的状态时需要用到。

----

.. _class_AnimationTreePlayer_method_remove_node:

- void **remove_node** **(** :ref:`String<class_String>` id **)**

移除名称为\ ``id``\ 的动画节点。

----

.. _class_AnimationTreePlayer_method_reset:

- void **reset** **(** **)**

重置此 ``AnimationTreePlayer``\ 。

----

.. _class_AnimationTreePlayer_method_timescale_node_get_scale:

- :ref:`float<class_float>` **timescale_node_get_scale** **(** :ref:`String<class_String>` id **)** |const|

返回名称为\ ``id``\ 的TimeScale节点的时间缩放值。

----

.. _class_AnimationTreePlayer_method_timescale_node_set_scale:

- void **timescale_node_set_scale** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` scale **)**

设置名称为\ ``id``\ 的TimeScale节点的时间缩放为\ ``scale``\ 。

时间缩放节点用来加快\ :ref:`Animation<class_Animation>`\ 的速度，如果缩放高于1，就会减慢它们。

如果在混合后应用，会影响到该混合的所有输入动画。

----

.. _class_AnimationTreePlayer_method_timeseek_node_seek:

- void **timeseek_node_seek** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` seconds **)**

设置名称为\ ``id``\ 的TimeSeek节点的时间查寻值为\ ``seconds``\ 。

这在\ :ref:`Animation<class_Animation>`\ 或输入的\ :ref:`Animation<class_Animation>`\ 的混合中起到查寻的作用。

----

.. _class_AnimationTreePlayer_method_transition_node_delete_input:

- void **transition_node_delete_input** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx **)**

删除名称为\ ``id``\ 的过渡节点的\ ``input_idx``\ 的输入。

----

.. _class_AnimationTreePlayer_method_transition_node_get_current:

- :ref:`int<class_int>` **transition_node_get_current** **(** :ref:`String<class_String>` id **)** |const|

返回名称为\ ``id``\ 的过渡节点的当前评估输入的索引。

----

.. _class_AnimationTreePlayer_method_transition_node_get_input_count:

- :ref:`int<class_int>` **transition_node_get_input_count** **(** :ref:`String<class_String>` id **)** |const|

返回名称为\ ``id``\ 的过渡节点的输入数。你可以通过右键点击过渡节点来增加输入。

----

.. _class_AnimationTreePlayer_method_transition_node_get_xfade_time:

- :ref:`float<class_float>` **transition_node_get_xfade_time** **(** :ref:`String<class_String>` id **)** |const|

返回名称为\ ``id``\ 的过渡节点的交叉淡化时间。

----

.. _class_AnimationTreePlayer_method_transition_node_has_input_auto_advance:

- :ref:`bool<class_bool>` **transition_node_has_input_auto_advance** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx **)** |const|

如果过渡节点上名称为\ ``id``\ 的\ ``input_idx``\ 的输入被设置为在完成后自动前进到下一个输入，则返回\ ``true``\ 。

----

.. _class_AnimationTreePlayer_method_transition_node_set_current:

- void **transition_node_set_current** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx **)**

名称为 ``id`` 的过渡节点将其当前输入设置为 ``input_idx``\ 。

----

.. _class_AnimationTreePlayer_method_transition_node_set_input_auto_advance:

- void **transition_node_set_input_auto_advance** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` input_idx, :ref:`bool<class_bool>` enable **)**

当\ ``input_idx``\ 处的输入完成后，名称为\ ``id``\ 的过渡节点自动进行到下一个输入。

----

.. _class_AnimationTreePlayer_method_transition_node_set_input_count:

- void **transition_node_set_input_count** **(** :ref:`String<class_String>` id, :ref:`int<class_int>` count **)**

调整名称为\ ``id``\ 的过渡节点的可用输入数。

----

.. _class_AnimationTreePlayer_method_transition_node_set_xfade_time:

- void **transition_node_set_xfade_time** **(** :ref:`String<class_String>` id, :ref:`float<class_float>` time_sec **)**

名称为\ ``id``\ 的过渡节点将其交叉淡化时间设置为\ ``time_sec``\ 。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
