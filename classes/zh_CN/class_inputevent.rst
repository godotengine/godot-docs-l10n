:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the InputEvent.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_InputEvent:

InputEvent
==========

**Inherits:** :ref:`Resource<class_Resource>` **<** :ref:`Reference<class_Reference>` **<** :ref:`Object<class_Object>`

**Inherited By:** :ref:`InputEventAction<class_InputEventAction>`, :ref:`InputEventJoypadButton<class_InputEventJoypadButton>`, :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`, :ref:`InputEventMIDI<class_InputEventMIDI>`, :ref:`InputEventScreenDrag<class_InputEventScreenDrag>`, :ref:`InputEventScreenTouch<class_InputEventScreenTouch>`, :ref:`InputEventWithModifiers<class_InputEventWithModifiers>`

通用输入事件。

描述
----

各种输入事件的基类。请参阅 :ref:`Node._input<class_Node_method__input>`\ 。

教程
----

- :doc:`InputEvent <../tutorials/inputs/inputevent>`

- :doc:`Viewport and canvas transforms <../tutorials/2d/2d_transforms>`

- `2D Dodge The Creeps Demo <https://godotengine.org/asset-library/asset/515>`__

- `3D Voxel Demo <https://godotengine.org/asset-library/asset/676>`__

属性
----

+-----------------------+-------------------------------------------------+-------+
| :ref:`int<class_int>` | :ref:`device<class_InputEvent_property_device>` | ``0`` |
+-----------------------+-------------------------------------------------+-------+

方法
----

+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`accumulate<class_InputEvent_method_accumulate>` **(** :ref:`InputEvent<class_InputEvent>` with_event **)**                                                                                                |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`         | :ref:`as_text<class_InputEvent_method_as_text>` **(** **)** |const|                                                                                                                                             |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`           | :ref:`get_action_strength<class_InputEvent_method_get_action_strength>` **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|                                       |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`is_action<class_InputEvent_method_is_action>` **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|                                                           |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`is_action_pressed<class_InputEvent_method_is_action_pressed>` **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` allow_echo=false, :ref:`bool<class_bool>` exact_match=false **)** |const| |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`is_action_released<class_InputEvent_method_is_action_released>` **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|                                         |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`is_action_type<class_InputEvent_method_is_action_type>` **(** **)** |const|                                                                                                                               |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`is_echo<class_InputEvent_method_is_echo>` **(** **)** |const|                                                                                                                                             |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`is_pressed<class_InputEvent_method_is_pressed>` **(** **)** |const|                                                                                                                                       |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`             | :ref:`shortcut_match<class_InputEvent_method_shortcut_match>` **(** :ref:`InputEvent<class_InputEvent>` event, :ref:`bool<class_bool>` exact_match=true **)** |const|                                           |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`InputEvent<class_InputEvent>` | :ref:`xformed_by<class_InputEvent_method_xformed_by>` **(** :ref:`Transform2D<class_Transform2D>` xform, :ref:`Vector2<class_Vector2>` local_ofs=Vector2( 0, 0 ) **)** |const|                                  |
+-------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

属性说明
--------

.. _class_InputEvent_property_device:

- :ref:`int<class_int>` **device**

+-----------+-------------------+
| *Default* | ``0``             |
+-----------+-------------------+
| *Setter*  | set_device(value) |
+-----------+-------------------+
| *Getter*  | get_device()      |
+-----------+-------------------+

该事件的设备 ID。

\ **注意：**\ 对于来自触摸屏的模拟鼠标输入，该设备 ID 将总是 ``-1``\ 。可用于区分模拟鼠标输入和物理鼠标输入。

方法说明
--------

.. _class_InputEvent_method_accumulate:

- :ref:`bool<class_bool>` **accumulate** **(** :ref:`InputEvent<class_InputEvent>` with_event **)**

如果给定的输入事件和这个输入事件可以相加，则返回 ``true``\ （只针对 :ref:`InputEventMouseMotion<class_InputEventMouseMotion>` 类型的事件）。

给定输入事件的位置、全局位置和速度将被复制。产生的 ``relative`` 是两个事件的总和。两个事件的修饰符必须是相同的。

----

.. _class_InputEvent_method_as_text:

- :ref:`String<class_String>` **as_text** **(** **)** |const|

返回事件的 :ref:`String<class_String>` 字符串表示。

----

.. _class_InputEvent_method_get_action_strength:

- :ref:`float<class_float>` **get_action_strength** **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|

根据给定的动作的状态，返回0.0到1.0之间的值。对于获取\ :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`\ 类型的事件值时，很有用。

如果\ ``exact_match``\ 是\ ``false``\ ，它将忽略\ :ref:`InputEventKey<class_InputEventKey>`\ 和\ :ref:`InputEventMouseButton<class_InputEventMouseButton>`\ 事件的输入修饰符，以及\ :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`\ 事件的方向。

----

.. _class_InputEvent_method_is_action:

- :ref:`bool<class_bool>` **is_action** **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|

如果这个输入事件与任何类型的预定义动作匹配，则返回\ ``true``\ 。

如果\ ``exact_match``\ 是\ ``false``\ ，它将忽略\ :ref:`InputEventKey<class_InputEventKey>`\ 和\ :ref:`InputEventMouseButton<class_InputEventMouseButton>`\ 事件的输入修饰符，以及\ :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`\ 事件的方向。

----

.. _class_InputEvent_method_is_action_pressed:

- :ref:`bool<class_bool>` **is_action_pressed** **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` allow_echo=false, :ref:`bool<class_bool>` exact_match=false **)** |const|

如果给定的动作被按下，则返回\ ``true``\ ，并且不是 :ref:`InputEventKey<class_InputEventKey>` 事件的回显事件，除非 ``allow_echo`` 是 ``true``\ 。与\ :ref:`InputEventMouseMotion<class_InputEventMouseMotion>`\ 或\ :ref:`InputEventScreenDrag<class_InputEventScreenDrag>`\ 类型的事件无关。

如果\ ``exact_match``\ 是\ ``false``\ ，它将忽略\ :ref:`InputEventKey<class_InputEventKey>`\ 和\ :ref:`InputEventMouseButton<class_InputEventMouseButton>`\ 事件的输入修饰符，以及\ :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`\ 事件的方向。

----

.. _class_InputEvent_method_is_action_released:

- :ref:`bool<class_bool>` **is_action_released** **(** :ref:`String<class_String>` action, :ref:`bool<class_bool>` exact_match=false **)** |const|

如果给定的动作被释放，即未被按下，则返回\ ``true``\ 。与\ :ref:`InputEventMouseMotion<class_InputEventMouseMotion>`\ 或\ :ref:`InputEventScreenDrag<class_InputEventScreenDrag>`\ 类型的事件无关。

如果\ ``exact_match``\ 是\ ``false``\ ，它将忽略\ :ref:`InputEventKey<class_InputEventKey>`\ 和\ :ref:`InputEventMouseButton<class_InputEventMouseButton>`\ 事件的输入修饰符，以及\ :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>`\ 事件的方向。

----

.. _class_InputEvent_method_is_action_type:

- :ref:`bool<class_bool>` **is_action_type** **(** **)** |const|

如果此输入事件的类型是可以分配给输入动作的类型，则返回 ``true``\ 。

----

.. _class_InputEvent_method_is_echo:

- :ref:`bool<class_bool>` **is_echo** **(** **)** |const|

如果此输入事件是回显事件（仅适用于 :ref:`InputEventKey<class_InputEventKey>` 类型的事件），则返回 ``true``\ 。

----

.. _class_InputEvent_method_is_pressed:

- :ref:`bool<class_bool>` **is_pressed** **(** **)** |const|

如果此输入事件为按下，则返回 ``true``\ 。与类型 :ref:`InputEventMouseMotion<class_InputEventMouseMotion>` 或 :ref:`InputEventScreenDrag<class_InputEventScreenDrag>` 的事件无关。

----

.. _class_InputEvent_method_shortcut_match:

- :ref:`bool<class_bool>` **shortcut_match** **(** :ref:`InputEvent<class_InputEvent>` event, :ref:`bool<class_bool>` exact_match=true **)** |const|

如果指定的 ``event`` 与此事件匹配，则返回 ``true``\ 。仅对动作事件有效，即键 (:ref:`InputEventKey<class_InputEventKey>`)、按钮 (:ref:`InputEventMouseButton<class_InputEventMouseButton>` 或 :ref:`InputEventJoypadButton<class_InputEventJoypadButton>`)、轴 :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>` 或动作 (:ref:`InputEventAction<class_InputEventAction>`) 事件。

如果 ``exact_match`` 是 ``false``\ ，它会忽略 :ref:`InputEventKey<class_InputEventKey>` 和 :ref:`InputEventMouseButton<class_InputEventMouseButton>` 事件的输入修饰符，以及 :ref:`InputEventJoypadMotion<class_InputEventJoypadMotion>` 事件的方向。

----

.. _class_InputEvent_method_xformed_by:

- :ref:`InputEvent<class_InputEvent>` **xformed_by** **(** :ref:`Transform2D<class_Transform2D>` xform, :ref:`Vector2<class_Vector2>` local_ofs=Vector2( 0, 0 ) **)** |const|

返回给定输入事件的副本，该事件已由 ``local_ofs`` 偏移并由 ``xform`` 转换。与 :ref:`InputEventMouseButton<class_InputEventMouseButton>`\ 、\ :ref:`InputEventMouseMotion<class_InputEventMouseMotion>`\ 、\ :ref:`InputEventScreenTouch<class_InputEventScreenTouch>`\ 、\ :ref:`InputEventScreenDrag<class_InputEventScreenDrag>`\ 、\ :ref:`InputEventMagnifyGesture<class_InputEventMagnifyGesture>` 和 :ref:`InputEventPanGesture<class_InputEventPanGesture>` 类型的事件相关。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
