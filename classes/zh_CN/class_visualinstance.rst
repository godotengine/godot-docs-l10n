:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the VisualInstance.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_VisualInstance:

VisualInstance
==============

**Inherits:** :ref:`CullInstance<class_CullInstance>` **<** :ref:`Spatial<class_Spatial>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

**Inherited By:** :ref:`BakedLightmap<class_BakedLightmap>`, :ref:`GIProbe<class_GIProbe>`, :ref:`GeometryInstance<class_GeometryInstance>`, :ref:`Light<class_Light>`, :ref:`ReflectionProbe<class_ReflectionProbe>`, :ref:`RootMotionView<class_RootMotionView>`

所有可视3D节点的父节点。

描述
----

``VisualInstance``\ 用于连接一个资源和一个视觉显示。所有的可视化三维节点都继承自\ ``VisualInstance``\ 。你不应该直接访问\ ``VisualInstance``\ 的属性，一般来说，它们是由继承自\ ``VisualInstance``\ 的节点访问和管理的。\ ``VisualInstance``\ 是\ :ref:`VisualServer<class_VisualServer>`\ 实例的节点表示。

属性
----

+-----------------------+-----------------------------------------------------+-------+
| :ref:`int<class_int>` | :ref:`layers<class_VisualInstance_property_layers>` | ``1`` |
+-----------------------+-----------------------------------------------------+-------+

方法
----

+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`AABB<class_AABB>` | :ref:`get_aabb<class_VisualInstance_method_get_aabb>` **(** **)** |const|                                                                          |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`RID<class_RID>`   | :ref:`get_base<class_VisualInstance_method_get_base>` **(** **)** |const|                                                                          |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`RID<class_RID>`   | :ref:`get_instance<class_VisualInstance_method_get_instance>` **(** **)** |const|                                                                  |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>` | :ref:`get_layer_mask_bit<class_VisualInstance_method_get_layer_mask_bit>` **(** :ref:`int<class_int>` layer **)** |const|                          |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`AABB<class_AABB>` | :ref:`get_transformed_aabb<class_VisualInstance_method_get_transformed_aabb>` **(** **)** |const|                                                  |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| void                    | :ref:`set_base<class_VisualInstance_method_set_base>` **(** :ref:`RID<class_RID>` base **)**                                                       |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| void                    | :ref:`set_layer_mask_bit<class_VisualInstance_method_set_layer_mask_bit>` **(** :ref:`int<class_int>` layer, :ref:`bool<class_bool>` enabled **)** |
+-------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+

属性说明
--------

.. _class_VisualInstance_property_layers:

- :ref:`int<class_int>` **layers**

+-----------+-----------------------+
| *Default* | ``1``                 |
+-----------+-----------------------+
| *Setter*  | set_layer_mask(value) |
+-----------+-----------------------+
| *Getter*  | get_layer_mask()      |
+-----------+-----------------------+

绘制此 ``VisualInstance`` 的渲染层。

此对象仅对\ :ref:`Camera<class_Camera>`\ 可见，其剔除遮罩包括此\ ``VisualInstance``\ 设置的渲染对象。

方法说明
--------

.. _class_VisualInstance_method_get_aabb:

- :ref:`AABB<class_AABB>` **get_aabb** **(** **)** |const|

返回此\ ``VisualInstance``\ 的\ :ref:`AABB<class_AABB>`\ ，也称为边界框。参阅\ :ref:`get_transformed_aabb<class_VisualInstance_method_get_transformed_aabb>`\ 。

----

.. _class_VisualInstance_method_get_base:

- :ref:`RID<class_RID>` **get_base** **(** **)** |const|

返回与此\ ``VisualInstance``\ 相关的资源的RID。例如，如果该节点是一个\ :ref:`MeshInstance<class_MeshInstance>`\ ，这将返回相关的\ :ref:`Mesh<class_Mesh>`\ 的RID。

----

.. _class_VisualInstance_method_get_instance:

- :ref:`RID<class_RID>` **get_instance** **(** **)** |const|

返回这个实例的RID。这个RID与\ :ref:`VisualServer.instance_create<class_VisualServer_method_instance_create>`\ 所返回的RID相同。如果你想在这个\ ``VisualInstance``\ 上直接调用\ :ref:`VisualServer<class_VisualServer>`\ 函数，就需要这个RID。

----

.. _class_VisualInstance_method_get_layer_mask_bit:

- :ref:`bool<class_bool>` **get_layer_mask_bit** **(** :ref:`int<class_int>` layer **)** |const|

当指定的层在 :ref:`layers<class_VisualInstance_property_layers>` 中被启用时，返回\ ``true``\ ，否则返回\ ``false``\ 。

----

.. _class_VisualInstance_method_get_transformed_aabb:

- :ref:`AABB<class_AABB>` **get_transformed_aabb** **(** **)** |const|

返回此\ ``VisualInstance``\ 的变换后的\ :ref:`AABB<class_AABB>`\ ，也称为边界框。

这里的变换是指\ :ref:`AABB<class_AABB>`\ 加上\ :ref:`Spatial<class_Spatial>`\ 的\ :ref:`Transform<class_Transform>`\ 的位置、旋转和缩放。参阅\ :ref:`get_aabb<class_VisualInstance_method_get_aabb>`\ 。

----

.. _class_VisualInstance_method_set_base:

- void **set_base** **(** :ref:`RID<class_RID>` base **)**

设置由该\ ``VisualInstance``\ 实例化的资源，这将改变引擎对该\ ``VisualInstance``\ 的处理方式。相当于\ :ref:`VisualServer.instance_set_base<class_VisualServer_method_instance_set_base>`\ 。

----

.. _class_VisualInstance_method_set_layer_mask_bit:

- void **set_layer_mask_bit** **(** :ref:`int<class_int>` layer, :ref:`bool<class_bool>` enabled **)**

启用 :ref:`layers<class_VisualInstance_property_layers>` 中的特定层。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
